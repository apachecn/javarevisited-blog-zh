<html>
<head>
<title>Using the Jackson library to persist my JavaFX ToDo List to JSON</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨Jacksonåº“å°†æˆ‘çš„JavaFX ToDoåˆ—è¡¨æŒä¹…åŒ–åˆ°JSON</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/javarevisited/using-the-jackson-library-to-persist-my-javafx-todo-list-to-json-8a4b31917c09?source=collection_archive---------2-----------------------#2022-12-05">https://medium.com/javarevisited/using-the-jackson-library-to-persist-my-javafx-todo-list-to-json-8a4b31917c09?source=collection_archive---------2-----------------------#2022-12-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6351" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">äº†è§£å¦‚ä½•å°†Jacksonç”¨äºEclipseé›†åˆå’ŒJavaæ—¥æœŸ/æ—¶é—´</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/24c8526360583522204455a131f0112e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GfVS9RQaBfUzU9p3YbigGw.png"/></div></div><p class="jp jq et er es jr js bd b be z dx translated">æˆ‘çš„JavaFX ToDoListä½¿ç”¨Jacksonåº“ä½œä¸ºJSONæ–‡ä»¶æŒä¹…åŒ–</p></figure><h1 id="0894" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">å°†æˆ‘çš„JavaFXå‡çº§åˆ°DoListåº”ç”¨ç¨‹åº</h1><p id="9fb1" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">åœ¨æˆ‘çš„<code class="du kw kx ky kz b">TodoListApplication</code>çš„ç¬¬ä¸‰æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘æ·»åŠ äº†ä¸€ä¸ªå¸¦æœ‰è¡¨æƒ…ç¬¦å·<code class="du kw kx ky kz b">String</code>çš„<code class="du kw kx ky kz b">ToDoCategory</code> enumï¼Œå¹¶ç”¨å®ƒæ¥å¡«å……ä¸€ä¸ªJavaFX <code class="du kw kx ky kz b">ComboBox</code>ã€‚</p><div class="la lb ez fb lc ld"><a href="https://donraab.medium.com/experimenting-with-java-enums-emojis-and-combobox-in-javafx-2c12492cf65" rel="noopener follow" target="_blank"><div class="le ab dw"><div class="lf ab lg cl cj lh"><h2 class="bd hj fi z dy li ea eb lj ed ef hh bi translated">åœ¨JavaFXä¸­è¯•éªŒJavaæšä¸¾ã€è¡¨æƒ…ç¬¦å·å’Œç»„åˆæ¡†</h2><div class="lk l"><h3 class="bd b fi z dy li ea eb lj ed ef dx translated">äº†è§£å¦‚ä½•åœ¨JavaFXç»„åˆæ¡†ä¸­ä½¿ç”¨æšä¸¾å’Œè¡¨æƒ…ç¬¦å·ã€‚</h3></div><div class="ll l"><p class="bd b fp z dy li ea eb lj ed ef dx translated">donraab.medium.com</p></div></div><div class="lm l"><div class="ln l lo lp lq lm lr jn ld"/></div></div></a></div><p id="06fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨æœ¬ç³»åˆ—çš„ç¬¬ä¸‰ç¯‡åšå®¢çš„ç»“å°¾ï¼Œæˆ‘è¯´æˆ‘ä¼šåœ¨ä¸‹ä¸€ç¯‡åšå®¢ä¸­è§£é‡Šå¦‚ä½•è®©ToDoListæŒä¹…åŒ–ã€‚æˆ‘ç»ˆäºæ¥äº†ï¼Œåšæˆ‘è¯´è¿‡è¦åšçš„äº‹ã€‚è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å°è¯•ä½¿ç”¨å¸¦æœ‰<a class="ae ls" href="https://github.com/eclipse/eclipse-collections" rel="noopener ugc nofollow" target="_blank"> Eclipseé›†åˆ</a>ã€Javaæ—¥æœŸæ—¶é—´å’ŒJavaè®°å½•çš„<a class="ae ls" href="https://github.com/FasterXML/jackson" rel="noopener ugc nofollow" target="_blank"> Jackson </a>åº“ã€‚æˆ‘è¾¹èµ°è¾¹å­¦ä¹ ï¼Œå¹¶æ‰“ç®—ä¸ä½ ï¼Œè¯»è€…ï¼Œåˆ†äº«è¿™ç§å­¦ä¹ ï¼ŒåŒæ—¶å®ƒä¹Ÿå‘ç”Ÿåœ¨æˆ‘èº«ä¸Šã€‚å¾ˆæœ‰å¯èƒ½æœ‰äººä¼šçœ‹åˆ°æˆ‘åœ¨è¿™é‡Œæ‰€åšçš„ï¼Œå¹¶ç»™æˆ‘å®è´µçš„åé¦ˆæ„è§ï¼Œå‘Šè¯‰æˆ‘å¦‚ä½•æ”¹è¿›ã€‚</p><h1 id="7135" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">æˆ‘çš„ToDoItemå®ä¾‹æ™šä¸Šç¡åœ¨å“ªé‡Œï¼Ÿ</h1><p id="3171" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">å½“æˆ‘ç¬¬ä¸€æ¬¡å­¦ä¹ é¢å‘å¯¹è±¡ç¼–ç¨‹å¹¶æ¥è§¦åˆ°â€œæŒä¹…æ€§â€çš„æ¦‚å¿µæ—¶ï¼Œè¿™ä¸ªä¸»é¢˜å«åšâ€œå¯¹è±¡æ™šä¸Šç¡åœ¨å“ªé‡Œï¼Ÿâ€è¿™é‡Œå­˜åœ¨ä¸€ä¸ªå¤è€çš„é—®é¢˜:å½“æˆ‘ä»¬å…³æ‰ç”µæºæ—¶ï¼Œæˆ‘ä»¬çš„æ•°æ®å»äº†å“ªé‡Œã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘çš„JavaFX ToDoListåªåœ¨å†…å­˜ä¸­å·¥ä½œï¼Œå½“åº”ç”¨ç¨‹åºå…³é—­æ—¶ï¼Œ<code class="du kw kx ky kz b">ToDoItem</code>å®ä¾‹å°±ä¼šæ¶ˆå¤±ã€‚</p><p id="a508" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æŒä¹…åŒ–æ•°æ®æœ‰å¾ˆå¤šé€‰æ‹©ã€‚æˆ‘å†³å®šä½¿ç”¨Jacksonåº“å°†æˆ‘çš„<code class="du kw kx ky kz b">ToDoItem</code>å®ä¾‹ä¸­çš„<code class="du kw kx ky kz b">MutableList</code>è½¬æ¢æˆJSONï¼Œä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­å¹¶ä»ä¸­è¯»å–ã€‚</p><h1 id="f2dc" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">æ°å…‹æ£®ã€æ—¥èš€æ”¶è—å’ŒJSR 310</h1><p id="6098" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">Jackson JSONåº“æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„åº“ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æ›´å¤šä¿¡æ¯ã€‚</p><div class="la lb ez fb lc ld"><a href="https://github.com/FasterXML/jackson" rel="noopener  ugc nofollow" target="_blank"><div class="le ab dw"><div class="lf ab lg cl cj lh"><h2 class="bd hj fi z dy li ea eb lj ed ef hh bi translated">GitHub-faster XML/Jackson:Jacksoné¡¹ç›®çš„ä¸»é—¨æˆ·é¡µé¢</h2><div class="lk l"><h3 class="bd b fi z dy li ea eb lj ed ef dx translated">è¿™æ˜¯æ°å…‹é€Šé¡¹ç›®çš„ä¸»é¡µã€‚2022å¹´11æœˆ2æ—¥:æ°å…‹é€Šçš„AdaLogicså®‰å…¨å®¡è®¡å‘å¸ƒ-è§â€¦</h3></div><div class="ll l"><p class="bd b fp z dy li ea eb lj ed ef dx translated">github.com</p></div></div><div class="lm l"><div class="lt l lo lp lq lm lr jn ld"/></div></div></a></div><p id="99f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½ ä¹Ÿå¯ä»¥é€šè¿‡å…³æ³¨Mediumä¸Šçš„<a class="lu lv ge" href="https://medium.com/u/b9b3ec1cfbf7?source=post_page-----8a4b31917c09--------------------------------" rel="noopener" target="_blank"> @cowtowncoder </a>æ¥äº†è§£æ°å…‹é€Šçš„æœ€æ–°æ¶ˆæ¯ã€‚</p><p id="8b5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘ä½¿ç”¨<a class="ae ls" href="https://github.com/eclipse/eclipse-collections" rel="noopener ugc nofollow" target="_blank"> Eclipseé›†åˆ</a> <code class="du kw kx ky kz b">MutableList</code>æ¥ä¿å­˜æˆ‘çš„åº”ç”¨ç¨‹åºä¸­çš„<code class="du kw kx ky kz b">ToDoItem</code>å®ä¾‹ã€‚æˆ‘æ­£åœ¨ä½¿ç”¨Java 8ä¸­åŒ…å«çš„<a class="ae ls" href="https://docs.oracle.com/javase/8/docs/technotes/guides/datetime/index.html" rel="noopener ugc nofollow" target="_blank"> Java Date Time </a> (JSR 310)ä¸­çš„<code class="du kw kx ky kz b">LocalDate</code>ç±»ã€‚</p><p id="cc3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸ºäº†ä½¿ç”¨JacksonæŒä¹…åŒ–æˆ‘çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼Œæˆ‘éœ€è¦åœ¨æˆ‘çš„Maven <code class="du kw kx ky kz b">pom.xml</code>æ–‡ä»¶ä¸­åŒ…å«ä»¥ä¸‹ä¾èµ–é¡¹ã€‚</p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="a1ca" class="ma ju hi kz b be mb mc l md me">&lt;dependency&gt;<br/>    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;<br/>    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;<br/>    &lt;version&gt;${jackson.version}&lt;/version&gt;<br/>&lt;/dependency&gt;<br/>&lt;dependency&gt;<br/>    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;<br/>    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;<br/>    &lt;version&gt;${jackson.version}&lt;/version&gt;<br/>&lt;/dependency&gt;<br/>&lt;dependency&gt;<br/>    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;<br/>    &lt;artifactId&gt;jackson-datatype-eclipse-collections&lt;/artifactId&gt;<br/>    &lt;version&gt;${jackson.version}&lt;/version&gt;<br/>&lt;/dependency&gt;</span></pre><p id="0738" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘ç”¨JavaFX <code class="du kw kx ky kz b">17.0.1</code>ã€Eclipse Collections <code class="du kw kx ky kz b">11.1.0</code>å’ŒJackson <code class="du kw kx ky kz b">2.14.1</code>æ­é…Java <code class="du kw kx ky kz b">17</code>ã€‚æˆ‘ä½¿ç”¨Java Date Timeä¸­çš„<code class="du kw kx ky kz b">LocalDate</code>æ¥åŒ…å«é¢å¤–çš„Jacksonåº“(<code class="du kw kx ky kz b">jackson-datatype-jsr310</code>)ä»¥æ”¯æŒ<code class="du kw kx ky kz b">LocalDate</code>åºåˆ—åŒ–ã€‚</p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="1279" class="ma ju hi kz b be mb mc l md me">&lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;<br/>&lt;eclipse-collections.version&gt;11.1.0&lt;/eclipse-collections.version&gt;<br/>&lt;jackson.version&gt;2.14.1&lt;/jackson.version&gt;</span></pre><h2 id="8fee" class="mf ju hi bd jv mg mh mi jz mj mk ml kd iq mm mn kh iu mo mp kl iy mq mr kp ms bi translated">ä¸JPMSåˆä½œ</h2><p id="4de0" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">IntelliJä¸ºæˆ‘ç”Ÿæˆçš„JavaFXé¡¹ç›®æ¡†æ¶è¢«è®¾ç½®ä¸ºä½¿ç”¨JPMSã€‚æˆ‘ä»¥å‰ä»æœªåœ¨Javaåº”ç”¨ç¨‹åºä¸­æ˜ç¡®ä½¿ç”¨è¿‡JPMSã€‚è¿™è®©æˆ‘æœ‰äº›å¤´ç–¼ï¼Œä½†æ˜¯æˆ‘èƒ½å¤ŸæˆåŠŸåœ°è®©äº‹æƒ…è¿›å…¥å·¥ä½œçŠ¶æ€ã€‚</p><p id="7d3f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸‹é¢æ˜¯ä½äºæˆ‘çš„Javaæºä»£ç æ ¹ç›®å½•ä¸‹çš„<code class="du kw kx ky kz b">module-info.java</code>æ–‡ä»¶çš„å†…å®¹ã€‚</p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="e084" class="ma ju hi kz b be mb mc l md me">module example.todolist {<br/>    requires javafx.controls;<br/>    requires javafx.fxml;<br/>    requires org.eclipse.collections.api;<br/>    requires org.eclipse.collections.impl;<br/>    requires com.fasterxml.jackson.annotation;<br/>    requires com.fasterxml.jackson.core;<br/>    requires com.fasterxml.jackson.databind;<br/>    requires com.fasterxml.jackson.datatype.jsr310;<br/>    requires jackson.datatype.eclipse.collections;<br/>    opens example.todolist;<br/>}</span></pre><p id="3df1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è®©æˆ‘é™·å…¥å¾ªç¯çš„æ˜¯<code class="du kw kx ky kz b">jackson.datatype.eclipse.collections</code>çš„æ¨¡å—åä¸ä¸€è‡´ã€‚æˆ‘ä¸å¾—ä¸å»Jackson GitHubç½‘ç«™æŸ¥æ‰¾æ¨¡å—çš„åç§°ã€‚</p><div class="la lb ez fb lc ld"><a href="https://github.com/FasterXML/jackson-datatypes-collections/blob/2.15/eclipse-collections/src/moditect/module-info.java" rel="noopener  ugc nofollow" target="_blank"><div class="le ab dw"><div class="lf ab lg cl cj lh"><h2 class="bd hj fi z dy li ea eb lj ed ef hh bi translated">Jackson-data types-collections/module-info . Java at 2.15 faster XML/Jackson-data types-collections</h2><div class="lk l"><h3 class="bd b fi z dy li ea eb lj ed ef dx translated">åŒ…å«å„ç§é¢å‘é›†åˆçš„æ•°æ®ç±»å‹åº“çš„Jacksoné¡¹ç›®:Eclipse Collectionsï¼ŒGuavaï¼ŒHPPCâ€¦</h3></div><div class="ll l"><p class="bd b fp z dy li ea eb lj ed ef dx translated">github.com</p></div></div><div class="lm l"><div class="mt l lo lp lq lm lr jn ld"/></div></div></a></div><p id="a522" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸å¹¸çš„æ˜¯ï¼Œè¿™éµå¾ªäº†ä¸€ä¸ªä¸åŒçš„æ¨¡å—å‘½åæƒ¯ä¾‹ï¼Œè€Œä¸æ˜¯Google Guavaçš„æ¨¡å—ï¼Œå®ƒåŒ…å«åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ã€‚</p><div class="la lb ez fb lc ld"><a href="https://github.com/FasterXML/jackson-datatypes-collections/blob/2.15/guava/src/moditect/module-info.java" rel="noopener  ugc nofollow" target="_blank"><div class="le ab dw"><div class="lf ab lg cl cj lh"><h2 class="bd hj fi z dy li ea eb lj ed ef hh bi translated">Jackson-data types-collections/module-info . Java at 2.15 faster XML/Jackson-data types-collections</h2><div class="lk l"><h3 class="bd b fi z dy li ea eb lj ed ef dx translated">åŒ…å«å„ç§é¢å‘é›†åˆçš„æ•°æ®ç±»å‹åº“çš„Jacksoné¡¹ç›®:Eclipse Collectionsï¼ŒGuavaï¼ŒHPPCâ€¦</h3></div><div class="ll l"><p class="bd b fp z dy li ea eb lj ed ef dx translated">github.com</p></div></div><div class="lm l"><div class="mu l lo lp lq lm lr jn ld"/></div></div></a></div><p id="0c7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">çœ‹èµ·æ¥ï¼Œåœ¨jackson-datatypes-collectionsä¸­ï¼Œç•ªçŸ³æ¦´å’ŒHPPCéµå¾ªä¸€ä¸ªJPMSæ¨¡å—å‘½åçº¦å®šï¼Œè€ŒEclipseé›†åˆå’ŒPCollectionséµå¾ªå¦ä¸€ä¸ªå‘½åçº¦å®šã€‚</p><div class="la lb ez fb lc ld"><a href="https://github.com/FasterXML/jackson-datatypes-collections" rel="noopener  ugc nofollow" target="_blank"><div class="le ab dw"><div class="lf ab lg cl cj lh"><h2 class="bd hj fi z dy li ea eb lj ed ef hh bi translated">GitHub-faster XML/Jackson-data types-collections:åŒ…å«å„ç§â€¦</h2><div class="lk l"><h3 class="bd b fi z dy li ea eb lj ed ef dx translated">è¿™æ˜¯ä¸€ä¸ªå¤šæ¨¡å—ä¼å¼é¡¹ç›®ï¼Œç”¨äºå„ç§Jacksonæ•°æ®ç±»å‹æ¨¡å—ï¼Œä»¥æ”¯æŒç¬¬ä¸‰æ–¹æ”¶è—åº“â€¦</h3></div><div class="ll l"><p class="bd b fp z dy li ea eb lj ed ef dx translated">github.com</p></div></div><div class="lm l"><div class="mv l lo lp lq lm lr jn ld"/></div></div></a></div><h2 id="d84b" class="mf ju hi bd jv mg mh mi jz mj mk ml kd iq mm mn kh iu mo mp kl iy mq mr kp ms bi translated">ä¸ºJsonåºåˆ—åŒ–å¯¹ToDoItemè¿›è¡Œæ›´æ”¹</h2><p id="f6cf" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">æˆ‘åœ¨æˆ‘çš„<code class="du kw kx ky kz b">ToDoItem</code>è®°å½•ä¸­æ·»åŠ äº†ä»¥ä¸‹æ³¨é‡Šï¼Œä»¥ä¾¿ä¸Jacksonä¸€èµ·ä½¿ç”¨ã€‚æˆ‘å¯èƒ½ä¸éœ€è¦å…¶ä¸­çš„ä¸€äº›æ³¨é‡Šï¼Œä½†è¿™è‚¯å®šæ˜¯æœ‰æ•ˆçš„(å¹¶ä¸”æ˜¯ä¸€è‡´çš„)ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œåˆ†äº«ä¸€ä¸‹ã€‚å¦‚æœå¯ä»¥ç®€åŒ–ï¼Œè¯·åœ¨è¯„è®ºé‡Œå‘Šè¯‰æˆ‘ã€‚</p><blockquote class="mw mx my"><p id="9875" class="if ig mz ih b ii ij ik il im in io ip na ir is it nb iv iw ix nc iz ja jb jc hb bi translated">å¤šæ£®å¤šdiscimus</p></blockquote><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="f3e9" class="ma ju hi kz b be mb mc l md me">public record ToDoItem(<br/>        @JsonProperty String name,<br/>        @JsonProperty ToDoCategory category,<br/>        @JsonProperty LocalDate date)<br/>{<br/>    @JsonIgnore<br/>    public String getCategory()<br/>    {<br/>        return this.category.getEmoji();<br/>    }<br/><br/>    @JsonIgnore<br/>    public String getName()<br/>    {<br/>        return this.name;<br/>    }<br/><br/>    @JsonIgnore<br/>    public String getDate()<br/>    {<br/>        return this.date.toString();<br/>    }<br/>}</span></pre><p id="a5ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Update (12/6): </strong>æˆ‘å·²ç»å°†æ³¨é‡Šæ›´æ–°ä¸ºä½¿ç”¨JsonPropertyè€Œä¸æ˜¯JsonSerializeï¼Œå¹¶ç§»é™¤äº†å¯¹LocalDateçš„ç‰¹æ®Šå¤„ç†ã€‚</p><p id="f068" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘å¸Œæœ›æŒä¹…åŒ–è®°å½•ä¸­çš„æ•°æ®ï¼Œè€Œä¸æ˜¯ä»gettersè¿”å›çš„å€¼ã€‚æˆ‘æ„è¯†åˆ°æˆ‘åœ¨è¿™é‡Œæ··åˆäº†æ•°æ®å’Œè¡¨æ ¼è¡¨ç¤ºé€»è¾‘ã€‚è¿™çº¯ç²¹æ˜¯å‡ºäºæ–¹ä¾¿ã€‚æ­£å¦‚æˆ‘åœ¨ä»¥å‰çš„åšå®¢ä¸­æåˆ°çš„ï¼Œæˆ‘ä½¿ç”¨äº†gettersï¼Œè¿™æ ·æˆ‘çš„<code class="du kw kx ky kz b">ToDoItem</code>è®°å½•å°±å¯ä»¥ä¸JavaFX <code class="du kw kx ky kz b">TableView</code>ä¸€èµ·å·¥ä½œã€‚ä½¿ç”¨<code class="du kw kx ky kz b">todolist-view.fxml</code>æ–‡ä»¶ä¸­çš„<code class="du kw kx ky kz b">PropertyValueFactory</code>å®šä¹‰ã€‚</p><h2 id="e867" class="mf ju hi bd jv mg mh mi jz mj mk ml kd iq mm mn kh iu mo mp kl iy mq mr kp ms bi translated">å°†Jsonæ–‡ä»¶è¯»å…¥Eclipseé›†åˆå¯å˜åˆ—è¡¨</h2><p id="09f1" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">ä¸‹é¢æ˜¯æˆ‘å†™çš„å°†Jsonæ–‡ä»¶è¯»å…¥æˆ‘åœ¨<code class="du kw kx ky kz b">TodoListController</code>ä¸­ä½¿ç”¨çš„<code class="du kw kx ky kz b">MutableList</code>çš„ä»£ç ã€‚</p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="b321" class="ma ju hi kz b be mb mc l md me">private MutableList&lt;ToDoItem&gt; readToDoListFromFile()<br/>{<br/>    ObjectMapper mapper = this.getObjectMapper();<br/>    MutableList&lt;ToDoItem&gt; list = null;<br/>    try<br/>    {<br/>        list = mapper.readValue(<br/>                Paths.get("todolist.json").toFile(),<br/>                new TypeReference&lt;MutableList&lt;ToDoItem&gt;&gt;() {});<br/>        return list;<br/>    }<br/>    catch (IOException e)<br/>    {<br/>        System.out.println(e);<br/>    }<br/>    return Lists.mutable.empty();<br/>}</span></pre><p id="77dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘æŒ‰ç…§æˆ‘ä»¬ä»Eclipse Collections GitHub READMEä¸­é“¾æ¥çš„è¯´æ˜ï¼Œç”¨Jackson åºåˆ—åŒ–Eclipse Collectionsã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨(æˆ–è€…å‘ç”Ÿäº†å…¶ä»–å¼‚å¸¸)ï¼Œå°†è¿”å›ä¸€ä¸ªç©ºçš„<code class="du kw kx ky kz b">MutableList</code>å®ä¾‹ã€‚</p><p id="db03" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘åˆ›å»ºäº†ä¸€ä¸ª<code class="du kw kx ky kz b">getObjectMapper</code>æ–¹æ³•ï¼Œå®ƒæ€»æ˜¯åŠ è½½æˆ‘éœ€è¦çš„ä¸¤ä¸ªJacksonæ¨¡å—ã€‚æˆ‘å¯èƒ½ä¼šåœ¨æŸä¸ªåœ°æ–¹ä¿ç•™<code class="du kw kx ky kz b">ObjectMapper</code>å®ä¾‹ï¼Œä½†å®ƒç°åœ¨å·¥ä½œæ­£å¸¸ï¼Œåªéœ€åœ¨å¯åŠ¨å’Œå…³é—­æ—¶æ ¹æ®éœ€è¦åˆ›å»ºå®ƒæ¥è¯»å†™æ–‡ä»¶ã€‚</p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="7a92" class="ma ju hi kz b be mb mc l md me">private ObjectMapper getObjectMapper()<br/>{<br/>    ObjectMapper mapper = new ObjectMapper()<br/>            .registerModule(new EclipseCollectionsModule())<br/>            .registerModule(new JavaTimeModule());<br/>    return mapper;<br/>}</span></pre><h2 id="bcfc" class="mf ju hi bd jv mg mh mi jz mj mk ml kd iq mm mn kh iu mo mp kl iy mq mr kp ms bi translated">ä»å¯å˜åˆ—è¡¨ä¸­å†™å…¥Jsonæ–‡ä»¶</h2><p id="2a8d" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">ä½¿ç”¨Jacksonç¼–å†™Jsonæ–‡ä»¶çš„ä»£ç å‡ ä¹å’Œè¯»å–Jsonæ–‡ä»¶çš„ä»£ç ä¸€æ ·ç®€å•ã€‚</p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="c7ea" class="ma ju hi kz b be mb mc l md me">public void writeToDoListToFile()<br/>{<br/>    ObjectMapper mapper = this.getObjectMapper();<br/>    MutableList&lt;ToDoItem&gt; list =<br/>            this.todoList.getItems().stream()<br/>                    .collect(Collectors2.toList());<br/>    try<br/>    {<br/>        mapper.writeValue(<br/>                Paths.get("todolist.json").toFile(),<br/>                list);<br/>    }<br/>    catch (IOException e)<br/>    {<br/>        throw new RuntimeException(e);<br/>    }<br/>}</span></pre><p id="a591" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæˆ‘çš„<code class="du kw kx ky kz b">MutableList</code>è¢«åŒ…è£…åœ¨ä¸€ä¸ª<code class="du kw kx ky kz b">ObservableList</code>ä¸­ï¼Œè¯¥T1ä¿å­˜åœ¨<code class="du kw kx ky kz b">todoList</code>å˜é‡çš„<code class="du kw kx ky kz b">TableView</code>ä¸­ã€‚æˆ‘é€šè¿‡è°ƒç”¨<code class="du kw kx ky kz b">getItems</code>æ¥è®¿é—®<code class="du kw kx ky kz b">ObservableList</code>ã€‚æˆ‘æ— æ³•é€šè¿‡<code class="du kw kx ky kz b">ObservableList</code>ç›´æ¥åˆ°è¾¾<code class="du kw kx ky kz b">MutableList</code>ã€‚æˆ‘æœ‰ä¸€äº›æƒ³æ³•å¯ä»¥åœ¨ä»¥åçš„è¿­ä»£ä¸­æ”¹è¿›è¿™ä¸€ç‚¹(ä¸ä»…ä»…æ˜¯ä¿æŒå¯¹<code class="du kw kx ky kz b">MutableList</code>çš„ç›´æ¥å¼•ç”¨)ï¼Œä½†æ˜¯ç°åœ¨æˆ‘é‡‡ç”¨ç®€å•çš„æ–¹æ³•ï¼Œä½¿ç”¨Java Streamså’ŒEclipseé›†åˆä¸­çš„<code class="du kw kx ky kz b">Collectors2</code>å®ç”¨ç¨‹åºå°†<code class="du kw kx ky kz b">ObservableList</code>è½¬æ¢ä¸º<code class="du kw kx ky kz b">MutableList</code>ã€‚</p><p id="683f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘çš„å¼‚å¸¸å¤„ç†è¿˜å¯ä»¥æ”¹è¿›ï¼Œä½†æ˜¯å¯¹äºæŒä¹…æ€§çš„ç¬¬ä¸€æ¬¡è¿­ä»£æ¥è¯´è¿˜å¯ä»¥ã€‚</p><h2 id="1235" class="mf ju hi bd jv mg mh mi jz mj mk ml kd iq mm mn kh iu mo mp kl iy mq mr kp ms bi translated">ä½¿ç”¨æ°å…‹é€Šæ•ˆæœå¾ˆå¥½</h2><p id="27d6" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">æœ€åï¼Œä½¿ç”¨Jsonæ¥æŒä¹…åŒ–å’Œå…·ä½“åŒ–æˆ‘çš„ToDoItemå¯å˜åˆ—è¡¨å¹¶ä¸éœ€è¦å¾ˆå¤šä»£ç ã€‚Jacksonåº“å·¥ä½œå¾—å’Œæˆ‘å¸Œæœ›çš„ä¸€æ ·å¥½ï¼Œæˆ‘åœ¨JPMSæ¨¡å—ä¸­é‡åˆ°äº†ä¸€ä¸ªå°çš„åŒ…å‘½åé—®é¢˜ã€‚</p><p id="5aad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™æ˜¯jsonæ–‡ä»¶çš„è¾“å‡º(ç”¨IntelliJæ ¼å¼åŒ–å)ã€‚</p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="9723" class="ma ju hi kz b be mb mc l md me">[<br/>  {<br/>    "name": "Write ToDoList Persistence Blog",<br/>    "category": "RELAX",<br/>    "date": [2022, 12, 4]<br/>  },<br/>  {<br/>    "name": "Eat Dinner",<br/>    "category": "EAT",<br/>    "date": [2022, 12, 4]<br/>  }<br/>]</span></pre><h1 id="4676" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">JavaFXç”Ÿå‘½å‘¨æœŸäº‹ä»¶</h1><p id="7cb6" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">æˆ‘æƒ³è®©<code class="du kw kx ky kz b">ToDoItem</code>çš„<code class="du kw kx ky kz b">MutableList</code>åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½ï¼Œå¹¶åœ¨çª—å£å…³é—­å’Œåº”ç”¨ç¨‹åºå…³é—­æ—¶è‡ªåŠ¨ä¿å­˜ã€‚æˆ‘å°†è§£é‡Šæˆ‘æ˜¯å¦‚ä½•è®©å®ƒå·¥ä½œçš„ã€‚</p><h2 id="976b" class="mf ju hi bd jv mg mh mi jz mj mk ml kd iq mm mn kh iu mo mp kl iy mq mr kp ms bi translated">æ­£åœ¨åŠ è½½å¾…åŠäº‹é¡¹åˆ—è¡¨</h2><p id="46cc" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">æˆ‘å°†è¯»å–JSONæ–‡ä»¶çš„ä»£ç æ·»åŠ åˆ°äº†<code class="du kw kx ky kz b">TodoListController</code>çš„<code class="du kw kx ky kz b">initialize</code>æ–¹æ³•ä¸­ã€‚</p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="31e4" class="ma ju hi kz b be mb mc l md me">@FXML<br/>protected void initialize()<br/>{<br/>    MutableList&lt;ToDoItem&gt; items = this.readToDoListFromFile();<br/>    ObservableList&lt;ToDoItem&gt; list = FXCollections.observableList(items);<br/><br/>    this.todoList.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY);<br/>    this.todoList.setItems(list);<br/><br/>    ObservableList&lt;ToDoCategory&gt; categories =<br/>            FXCollections.observableList(<br/>                    Lists.mutable.with(ToDoCategory.values()));<br/><br/>    this.todoCategory.setItems(categories);<br/>}</span></pre><p id="2b65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¯¥ä»£ç åœ¨çª—å£æ‰“å¼€æ—¶æ‰§è¡Œã€‚ä¸€æ—¦ä½¿ç”¨Jacksonä»æ–‡ä»¶ä¸­è¯»å…¥<code class="du kw kx ky kz b">MutableList</code>ï¼Œå®ƒå°†è¢«è®¾ç½®åˆ°<code class="du kw kx ky kz b">todoList</code>ä¸­çš„é¡¹ç›®åˆ—è¡¨ä¸­ï¼Œå¹¶å¸¦æœ‰ä¸€ä¸ªåŒ…è£…çš„<code class="du kw kx ky kz b">ObservableList</code>ã€‚</p><h2 id="77f1" class="mf ju hi bd jv mg mh mi jz mj mk ml kd iq mm mn kh iu mo mp kl iy mq mr kp ms bi translated">ä¿å­˜å¾…åŠäº‹é¡¹åˆ—è¡¨</h2><p id="6df9" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">è¿™å¯¹æˆ‘æ¥è¯´æ˜¯æœ€æ£˜æ‰‹çš„éƒ¨åˆ†ã€‚æˆ‘æœ¬èƒ½åœ°çŸ¥é“ï¼Œæˆ‘åº”è¯¥èƒ½å¤Ÿå°†ä¸€äº›å›è°ƒæŒ‚é’©åˆ°çª—å£çš„å…³é—­äº‹ä»¶ä¸­ã€‚æ‰€ä»¥æˆ‘åšäº†ä¸€äº›è°·æ­Œæœç´¢ï¼Œæ‰¾åˆ°äº†ä¸€äº›å…³äºå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹çš„ç­”æ¡ˆã€‚è¿™è¦æ±‚æˆ‘å¯¹æˆ‘çš„<code class="du kw kx ky kz b">TodoListApplication</code>ç±»åšä¸€äº›æ”¹å˜ã€‚</p><p id="1054" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘ä¿®æ”¹äº†IntelliJæœ€åˆä¸ºæˆ‘ç”Ÿæˆçš„<code class="du kw kx ky kz b">start</code>æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="b450" class="ma ju hi kz b be mb mc l md me">@Override<br/>public void start(Stage stage) throws IOException<br/>{<br/>    FXMLLoader fxmlLoader = new FXMLLoader();<br/>    Parent root = fxmlLoader.load(TodoListApplication.class.getResourceAsStream("todolist-view.fxml"));<br/>    TodoListController controller = fxmlLoader.getController();<br/>    Scene scene = new Scene(root, 640, 480);<br/>    stage.setTitle("Todo List");<br/>    stage.setScene(scene);<br/>    stage.show();<br/>    stage.setOnCloseRequest(event -&gt; {<br/>        controller.writeToDoListToFile();<br/>        Platform.exit();<br/>        System.exit(0);<br/>    });<br/>}</span></pre><p id="a01a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘éœ€è¦ä¿®æ”¹<code class="du kw kx ky kz b">FXMLLoader</code>å‘¨å›´çš„ä»£ç ï¼Œä»¥ä¾¿è·å¾—<code class="du kw kx ky kz b">TodoListController</code>çš„å¥æŸ„ï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥å°†<code class="du kw kx ky kz b">Stage</code> <code class="du kw kx ky kz b">setOnCloseRequest</code>äº‹ä»¶ä¸è°ƒç”¨æ§åˆ¶å™¨çš„<code class="du kw kx ky kz b">writeToDoListToFile</code>æ–¹æ³•æŒ‚é’©ã€‚ä½œä¸ºå‰¯äº§å“ï¼Œæˆ‘å­¦åˆ°äº†å¦‚ä½•é€šè¿‡è§†å›¾æœ¬èº«è®¿é—®ä¸è§†å›¾ç›¸å…³è”çš„æ§åˆ¶å™¨ã€‚æˆ‘ä»ç„¶éœ€è¦å®Œå…¨ç†è§£è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯ä»£ç è‡³å°‘æ˜¯æœ‰æ•ˆçš„ã€‚</p><h2 id="192a" class="mf ju hi bd jv mg mh mi jz mj mk ml kd iq mm mn kh iu mo mp kl iy mq mr kp ms bi translated">å“å‘€ï¼Œæˆ‘éœ€è¦ä¸€æ¡é”™è¯¯å¤„ç†æ¶ˆæ¯</h2><p id="5877" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">å½“æˆ‘æ‘†å¼„æˆ‘çš„å¾…åŠäº‹é¡¹åˆ—è¡¨æ—¶ï¼Œæˆ‘å¯¼è‡´äº†ä¸€ä¸ªå¼‚å¸¸çš„å‘ç”Ÿã€‚å¦‚æœæˆ‘æŠŠæ—¥æœŸæˆ–å…¶ä»–ä¸œè¥¿ç•™ç©ºï¼Œæˆ‘ä¼šå¾—åˆ°ä¸€ä¸ªå¯æ€•çš„<code class="du kw kx ky kz b">NullPointerException</code>ã€‚å‘¸ã€‚æˆ‘æƒ³åœ¨è¾“å…¥æ— æ•ˆå¹¶æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯æ—¶å‘å‡ºè­¦å‘Šã€‚æˆ‘å‘ç°äº†ä¸€ç§ä½¿ç”¨<code class="du kw kx ky kz b">Alert</code>ç±»çš„ç®€å•æ–¹æ³•ã€‚</p><p id="ab7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘æŒ‰å¦‚ä¸‹æ–¹å¼é‡æ„äº†<code class="du kw kx ky kz b">TodoListController</code>ç±»ä¸­çš„<code class="du kw kx ky kz b">onAddButtonClick</code>æ–¹æ³•ï¼Œå› æ­¤ä»»ä½•ç©ºè¾“å…¥éƒ½ä¼šæ˜¾ç¤ºä¸€æ¡é”™è¯¯æ¶ˆæ¯ã€‚</p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="abfe" class="ma ju hi kz b be mb mc l md me">@FXML<br/>protected void onAddButtonClick()<br/>{<br/>    String text = this.todoItem.getText();<br/>    ToDoCategory category = this.todoCategory.getValue();<br/>    LocalDate date = this.todoDate.getValue();<br/>    if (text == null || category == null || date == null)<br/>    {<br/>        this.displayInvalidInputMessage();<br/>    }<br/>    else<br/>    {<br/>        this.createAndAddToDoItem(text, category, date);<br/>    }<br/>}<br/><br/>private void displayInvalidInputMessage()<br/>{<br/>    Alert errorAlert = new Alert(Alert.AlertType.ERROR);<br/>    errorAlert.setHeaderText("Invalid input");<br/>    errorAlert.setContentText("Text, category and date must all be specified.");<br/>    errorAlert.showAndWait();<br/>}</span></pre><p id="c924" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¦‚æœæ‚¨ä¸æŒ‡å®šæ–‡æœ¬ã€ç±»åˆ«æˆ–æ—¥æœŸï¼Œä¸‹é¢çš„é”™è¯¯æ¶ˆæ¯ä¼šç«‹å³å¼¹å‡ºã€‚</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nd"><img src="../Images/52dbbf08a1cb936c6cf7de3fa3d060be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*XqKB5HaXxbXD_Sow5Vlvmg.png"/></div><p class="jp jq et er es jr js bd b be z dx translated">æ— æ•ˆçš„è¾“å…¥é”™è¯¯æ¶ˆæ¯</p></figure><h2 id="7294" class="mf ju hi bd jv mg mh mi jz mj mk ml kd iq mm mn kh iu mo mp kl iy mq mr kp ms bi translated">æˆ‘ä»Šå¤©çš„æœ€åä¸€ä»¶äº‹</h2><p id="bd0c" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">å¸Œæœ›æˆ‘èƒ½åœ¨åˆå¤œå‰å‘è¡¨è¿™ç¯‡æ–‡ç« ã€‚</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ne"><img src="../Images/091b739179e6dfcabe92db8b60e4e935.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W5LBU9VPaCv6bGF535Q7kw.png"/></div></div></figure><h1 id="372a" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">å®Œæ•´çš„æºä»£ç </h1><p id="66ed" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">æˆ‘æœ€ç»ˆä¼šå°†æˆ‘çš„å¾…åŠäº‹é¡¹åˆ—è¡¨å®éªŒçš„æºä»£ç ä¸Šä¼ åˆ°GitHubé¡¹ç›®ä¸­ã€‚ç›®å‰ï¼Œæˆ‘çš„<code class="du kw kx ky kz b">TodoListApplication</code>çš„æºä»£ç åŒ…å«åœ¨ä»¥ä¸‹å››ä¸ªæ–‡ä»¶ä¸­ã€‚</p><p id="071c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du kw kx ky kz b">TodoListApplication.java</code></p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="861e" class="ma ju hi kz b be mb mc l md me">package example.todolist;<br/><br/>import java.io.IOException;<br/><br/>import javafx.application.Application;<br/>import javafx.application.Platform;<br/>import javafx.fxml.FXMLLoader;<br/>import javafx.scene.Parent;<br/>import javafx.scene.Scene;<br/>import javafx.stage.Stage;<br/><br/>public class TodoListApplication extends Application<br/>{<br/>    @Override<br/>    public void start(Stage stage) throws IOException<br/>    {<br/>        FXMLLoader fxmlLoader = new FXMLLoader();<br/>        Parent root = fxmlLoader.load(TodoListApplication.class.getResourceAsStream("todolist-view.fxml"));<br/>        TodoListController controller = fxmlLoader.getController();<br/>        Scene scene = new Scene(root, 640, 480);<br/>        stage.setTitle("Todo List");<br/>        stage.setScene(scene);<br/>        stage.show();<br/>        stage.setOnCloseRequest(event -&gt; {<br/>            controller.writeToDoListToFile();<br/>            Platform.exit();<br/>            System.exit(0);<br/>        });<br/>    }<br/><br/>    public static void main(String[] args)<br/>    {<br/>        TodoListApplication.launch();<br/>    }<br/>}</span></pre><p id="c68d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du kw kx ky kz b">todolist-view.fxml</code></p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="5991" class="ma ju hi kz b be mb mc l md me">&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br/><br/>&lt;?import javafx.geometry.Insets?&gt;<br/>&lt;?import javafx.scene.control.Button?&gt;<br/>&lt;?import javafx.scene.control.cell.PropertyValueFactory?&gt;<br/>&lt;?import javafx.scene.control.ComboBox?&gt;<br/>&lt;?import javafx.scene.control.DatePicker?&gt;<br/>&lt;?import javafx.scene.control.Label?&gt;<br/>&lt;?import javafx.scene.control.TableColumn?&gt;<br/>&lt;?import javafx.scene.control.TableView?&gt;<br/>&lt;?import javafx.scene.control.TextField?&gt;<br/>&lt;?import javafx.scene.layout.HBox?&gt;<br/>&lt;?import javafx.scene.layout.VBox?&gt;<br/>&lt;VBox alignment="CENTER" spacing="20.0" xmlns:fx="http://javafx.com/fxml"<br/>    fx:controller="example.todolist.TodoListController"&gt;<br/>    &lt;padding&gt;<br/>        &lt;Insets bottom="20.0" left="20.0" right="20.0" top="20.0" /&gt;<br/>    &lt;/padding&gt;<br/><br/>    &lt;HBox id="HBox1" alignment="CENTER_LEFT" spacing="5.0"&gt;<br/>        &lt;Label text="Item: " /&gt;<br/>        &lt;TextField fx:id="todoItem" /&gt;<br/>        &lt;Label text="Category: " /&gt;<br/>        &lt;ComboBox fx:id="todoCategory" /&gt;<br/>        &lt;Label text="Date: " /&gt;<br/>        &lt;DatePicker fx:id="todoDate" /&gt;<br/>    &lt;/HBox&gt;<br/>    &lt;TableView fx:id="todoList"&gt;<br/>        &lt;columns&gt;<br/>            &lt;TableColumn text="Name" minWidth="75.0" sortable="true"&gt;<br/>                &lt;cellValueFactory&gt;<br/>                    &lt;PropertyValueFactory property="name" /&gt;<br/>                &lt;/cellValueFactory&gt;<br/>            &lt;/TableColumn&gt;<br/>            &lt;TableColumn text="Category" minWidth="50.0" sortable="true"&gt;<br/>                &lt;cellValueFactory&gt;<br/>                    &lt;PropertyValueFactory property="category" /&gt;<br/>                &lt;/cellValueFactory&gt;<br/>            &lt;/TableColumn&gt;<br/>            &lt;TableColumn text="Date" minWidth="50.0" sortable="true"&gt;<br/>                &lt;cellValueFactory&gt;<br/>                    &lt;PropertyValueFactory property="date" /&gt;<br/>                &lt;/cellValueFactory&gt;<br/>            &lt;/TableColumn&gt;<br/>        &lt;/columns&gt;<br/>    &lt;/TableView&gt;<br/>    &lt;HBox id="HBox2" alignment="CENTER" spacing="5.0"&gt;<br/>        &lt;Button text="Add" onAction="#onAddButtonClick" alignment="BOTTOM_LEFT" /&gt;<br/>        &lt;Button text="Remove" onAction="#onRemoveButtonClick" alignment="BOTTOM_RIGHT" /&gt;<br/>    &lt;/HBox&gt;<br/>&lt;/VBox&gt;</span></pre><p id="0d2a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du kw kx ky kz b">TodoListController.java</code>(åŒ…å«<code class="du kw kx ky kz b">ToDoItem</code>å’Œ<code class="du kw kx ky kz b">ToDoCategory</code>ç±»)</p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="d837" class="ma ju hi kz b be mb mc l md me">package example.todolist;<br/><br/>import java.io.IOException;<br/>import java.nio.file.Paths;<br/>import java.time.LocalDate;<br/><br/>import com.fasterxml.jackson.annotation.JsonIgnore;<br/>import com.fasterxml.jackson.core.type.TypeReference;<br/>import com.fasterxml.jackson.databind.ObjectMapper;<br/>import com.fasterxml.jackson.databind.annotation.JsonSerialize;<br/>import com.fasterxml.jackson.datatype.eclipsecollections.EclipseCollectionsModule;<br/>import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;<br/>import com.fasterxml.jackson.datatype.jsr310.ser.LocalDateSerializer;<br/>import javafx.collections.FXCollections;<br/>import javafx.collections.ObservableList;<br/>import javafx.fxml.FXML;<br/>import javafx.scene.control.Alert;<br/>import javafx.scene.control.ComboBox;<br/>import javafx.scene.control.DatePicker;<br/>import javafx.scene.control.TableView;<br/>import javafx.scene.control.TextField;<br/>import org.eclipse.collections.api.factory.Lists;<br/>import org.eclipse.collections.api.list.MutableList;<br/>import org.eclipse.collections.impl.collector.Collectors2;<br/><br/>public class TodoListController<br/>{<br/>    @FXML<br/>    private TextField todoItem;<br/><br/>    @FXML<br/>    public ComboBox&lt;ToDoCategory&gt; todoCategory;<br/><br/>    @FXML<br/>    private DatePicker todoDate;<br/><br/>    @FXML<br/>    private TableView&lt;ToDoItem&gt; todoList;<br/><br/>    @FXML<br/>    protected void initialize()<br/>    {<br/>        MutableList&lt;ToDoItem&gt; items = this.readToDoListFromFile();<br/>        ObservableList&lt;ToDoItem&gt; list = FXCollections.observableList(items);<br/><br/>        this.todoList.setColumnResizePolicy(TableView.CONSTRAINED_RESIZE_POLICY);<br/>        this.todoList.setItems(list);<br/><br/>        ObservableList&lt;ToDoCategory&gt; categories =<br/>                FXCollections.observableList(<br/>                        Lists.mutable.with(ToDoCategory.values()));<br/><br/>        this.todoCategory.setItems(categories);<br/>    }<br/><br/>    @FXML<br/>    protected void onAddButtonClick()<br/>    {<br/>        String text = this.todoItem.getText();<br/>        ToDoCategory category = this.todoCategory.getValue();<br/>        LocalDate date = this.todoDate.getValue();<br/>        if (text == null || category == null || date == null)<br/>        {<br/>            this.displayInvalidInputMessage();<br/>        }<br/>        else<br/>        {<br/>            this.createAndAddToDoItem(text, category, date);<br/>        }<br/>    }<br/><br/>    private void displayInvalidInputMessage()<br/>    {<br/>        Alert errorAlert = new Alert(Alert.AlertType.ERROR);<br/>        errorAlert.setHeaderText("Invalid input");<br/>        errorAlert.setContentText("Text, category and date must all be specified.");<br/>        errorAlert.showAndWait();<br/>    }<br/><br/>    private void createAndAddToDoItem(String text, ToDoCategory category, LocalDate date)<br/>    {<br/>        ToDoItem item = new ToDoItem(text, category, date);<br/>        this.todoList.getItems().add(item);<br/>    }<br/><br/>    @FXML<br/>    protected void onRemoveButtonClick()<br/>    {<br/>        int indexToRemove = this.todoList.getSelectionModel().getSelectedIndex();<br/>        this.todoList.getItems().remove(indexToRemove);<br/>    }<br/><br/>    private MutableList&lt;ToDoItem&gt; readToDoListFromFile()<br/>    {<br/>        ObjectMapper mapper = this.getObjectMapper();<br/>        MutableList&lt;ToDoItem&gt; list = null;<br/>        try<br/>        {<br/>            list = mapper.readValue(<br/>                    Paths.get("todolist.json").toFile(),<br/>                    new TypeReference&lt;MutableList&lt;ToDoItem&gt;&gt;() {});<br/>            return list;<br/>        }<br/>        catch (IOException e)<br/>        {<br/>            System.out.println(e);<br/>        }<br/>        return Lists.mutable.empty();<br/>    }<br/><br/>    public void writeToDoListToFile()<br/>    {<br/>        ObjectMapper mapper = this.getObjectMapper();<br/>        MutableList&lt;ToDoItem&gt; list =<br/>                this.todoList.getItems().stream()<br/>                        .collect(Collectors2.toList());<br/>        try<br/>        {<br/>            mapper.writeValue(<br/>                    Paths.get("todolist.json").toFile(),<br/>                    list);<br/>        }<br/>        catch (IOException e)<br/>        {<br/>            throw new RuntimeException(e);<br/>        }<br/>    }<br/><br/>    private ObjectMapper getObjectMapper()<br/>    {<br/>        ObjectMapper mapper = new ObjectMapper()<br/>                .registerModule(new EclipseCollectionsModule())<br/>                .registerModule(new JavaTimeModule());<br/>        return mapper;<br/>    }<br/><br/>    public record ToDoItem(<br/>            @JsonProperty String name,<br/>            @JsonProperty ToDoCategory category,<br/>            @JsonProperty LocalDate date)<br/>    {<br/>        @JsonIgnore<br/>        public String getCategory()<br/>        {<br/>            return this.category.getEmoji();<br/>        }<br/><br/>        @JsonIgnore<br/>        public String getName()<br/>        {<br/>            return this.name;<br/>        }<br/><br/>        @JsonIgnore<br/>        public String getDate()<br/>        {<br/>            return this.date.toString();<br/>        }<br/>    }<br/><br/>    public enum ToDoCategory<br/>    {<br/>        EXERCISE("ğŸš´"),<br/>        WORK("ğŸ“Š"),<br/>        RELAX("ğŸ§˜"),<br/>        TV("ğŸ“º"),<br/>        READ("ğŸ“š"),<br/>        EVENT("ğŸ­"),<br/>        CODE("ğŸ’»"),<br/>        COFFEE("â˜•ï¸"),<br/>        EAT("ğŸ½"),<br/>        SHOP("ğŸ›’"),<br/>        SLEEP("ğŸ˜´");<br/><br/>        private String emoji;<br/><br/>        ToDoCategory(String emoji)<br/>        {<br/>            this.emoji = emoji;<br/>        }<br/><br/>        public String getEmoji()<br/>        {<br/>            return this.emoji;<br/>        }<br/>    }<br/>}</span></pre><p id="81ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du kw kx ky kz b">module-info.java</code></p><pre class="je jf jg jh fd lw kz lx bn ly lz bi"><span id="fb15" class="ma ju hi kz b be mb mc l md me">module example.todolist {<br/>    requires javafx.controls;<br/>    requires javafx.fxml;<br/>    requires org.eclipse.collections.api;<br/>    requires org.eclipse.collections.impl;<br/>    requires com.fasterxml.jackson.annotation;<br/>    requires com.fasterxml.jackson.core;<br/>    requires com.fasterxml.jackson.databind;<br/>    requires com.fasterxml.jackson.datatype.jsr310;<br/>    requires jackson.datatype.eclipse.collections;<br/>    opens example.todolist;<br/>}</span></pre><h1 id="98ff" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">æˆ‘çš„todolisåº”ç”¨ç¨‹åºçš„æœªæ¥</h1><p id="c35a" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">æ¯æ¬¡æˆ‘ç”¨æˆ‘çš„<code class="du kw kx ky kz b">TodoListApplication</code>å®Œæˆä¸€ä»¶äº‹ï¼Œä¼¼ä¹å°±æœ‰æ›´å¤šæˆ‘æƒ³åšçš„äº‹ã€‚æˆ‘æƒ³è¿™æ˜¯æœ‰é“ç†çš„ã€‚æˆ‘ä»¬æ€»æ˜¯ä¸å¾—ä¸åšã€‚ä»¥ä¸‹æ˜¯æˆ‘å°†æ¥å¯èƒ½ä¼šå°è¯•çš„ä¸€äº›äº‹æƒ…ã€‚</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nf"><img src="../Images/97d84c2df2ae78b1bfa2c4b09bff120d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*s2P7Rub_EWJy042YaTYa_g.png"/></div><p class="jp jq et er es jr js bd b be z dx translated">æˆ‘çš„åœ£è¯èŠ‚åˆ°äº†â€”â€”ä¹Ÿè®¸åœ£è¯è€äººä¼šé€æ¥</p></figure><h1 id="12b4" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">æœ€åçš„æƒ³æ³•</h1><p id="2a3c" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">æˆ‘å¸Œæœ›ä½ å–œæ¬¢æˆ‘æ¢ç´¢JavaFXå’ŒJacksonçš„ç¬¬ä¸€ç»„åšå®¢ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ï¼Œå¹¶æœ€ç»ˆå¯¹JavaFX UIå¼€å‘çš„ç²¾å½©ä¸–ç•Œå¤§å¼€çœ¼ç•Œã€‚å›´ç»•JavaFXä¼¼ä¹æœ‰ä¸€ä¸ªéå¸¸æ´»è·ƒçš„ç¤¾åŒºï¼Œæˆ‘æœ€è¿‘çœ‹åˆ°çš„ä¸€äº›ä¸œè¥¿çœ‹èµ·æ¥çœŸçš„å¾ˆæ£’ã€‚æˆ‘æœŸå¾…åœ¨è¿™ä¸ªé¢†åŸŸç»§ç»­æˆ‘çš„å­¦ä¹ ã€‚</p><p id="a86f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼</p><p id="8155" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘æ˜¯ç”±<a class="ae ls" href="https://projects.eclipse.org/projects/technology.collections" rel="noopener ugc nofollow" target="_blank"><em class="mz">Eclipse Foundation</em></a><em class="mz">ç®¡ç†çš„</em><a class="ae ls" href="https://github.com/eclipse/eclipse-collections" rel="noopener ugc nofollow" target="_blank"><em class="mz">Eclipse Collections</em></a><em class="mz">OSSé¡¹ç›®çš„åˆ›å»ºè€…å’Œæäº¤è€…ã€‚Eclipse Collectionsä¸º</em> <a class="ae ls" href="https://github.com/eclipse/eclipse-collections/blob/master/CONTRIBUTING.md" rel="noopener ugc nofollow" target="_blank"> <em class="mz">æŠ•ç¨¿</em> </a> <em class="mz">æ‰“å¼€ã€‚</em></p><p id="c647" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½ å¯èƒ½å–œæ¬¢çš„å…¶ä»–Java JSONæ•™ç¨‹</p><ul class=""><li id="a7c7" class="ng nh hi ih b ii ij im in iq ni iu nj iy nk jc nl nm nn no bi translated"><a class="ae ls" href="https://javarevisited.blogspot.com/2015/05/how-to-print-json-string-in-java-jackson-example.html" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•åœ¨Javaä¸­æ ¼å¼åŒ–JSONå­—ç¬¦ä¸²ï¼Ÿ</a></li><li id="768e" class="ng nh hi ih b ii np im nq iq nr iu ns iy nt jc nl nm nn no bi translated"><a class="ae ls" href="https://javarevisited.blogspot.com/2022/03/3-examples-to-parse-json-in-java-using.html" rel="noopener ugc nofollow" target="_blank">Javaä¸­å°†JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡çš„3ç§æ–¹æ³•</a></li><li id="f500" class="ng nh hi ih b ii np im nq iq nr iu ns iy nt jc nl nm nn no bi translated"><a class="ae ls" href="http://www.java67.com/2017/05/how-to-convert-json-string-to-java-object-gson-example.html" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•ç”¨Gsonè§£æJSONï¼Ÿ</a></li><li id="5102" class="ng nh hi ih b ii np im nq iq nr iu ns iy nt jc nl nm nn no bi translated"><a class="ae ls" href="http://javarevisited.blogspot.sg/2013/04/convert-json-array-to-string-array-list-java-from.html" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•ç”¨Javaè§£æJSONæ•°ç»„ï¼Ÿ</a></li><li id="7d7f" class="ng nh hi ih b ii np im nq iq nr iu ns iy nt jc nl nm nn no bi translated"><a class="ae ls" href="https://javarevisited.blogspot.com/2022/12/how-to-iterate-over-jsonobject-in-java.html" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•åœ¨json-simple Javaä¸­è¿­ä»£JSONObjectï¼Ÿ</a></li><li id="e9b0" class="ng nh hi ih b ii np im nq iq nr iu ns iy nt jc nl nm nn no bi translated"><a class="ae ls" href="https://javarevisited.blogspot.com/2017/06/how-to-get-jar-files-of-jackson-libary-for-JSON.html" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•ç”¨Javaä¸‹è½½Jackson JARæ–‡ä»¶</a></li><li id="986c" class="ng nh hi ih b ii np im nq iq nr iu ns iy nt jc nl nm nn no bi translated"><a class="ae ls" href="https://javarevisited.blogspot.com/2017/10/jackson-json-parsing-error.html" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•è§£å†³æ— æ³•è¯†åˆ«çš„PropertyException:æ— æ³•è¯†åˆ«çš„å­—æ®µï¼Œæœªæ ‡è®°ä¸ºå¯å¿½ç•¥</a> -</li><li id="0a1a" class="ng nh hi ih b ii np im nq iq nr iu ns iy nt jc nl nm nn no bi translated"><a class="ae ls" href="https://javarevisited.blogspot.com/2022/08/json-interview-questions-with-answers.html" rel="noopener ugc nofollow" target="_blank"> 20ä¸ªJSONé¢è¯•é—®é¢˜åŠç­”æ¡ˆ</a></li><li id="f82e" class="ng nh hi ih b ii np im nq iq nr iu ns iy nt jc nl nm nn no bi translated"><a class="ae ls" href="http://javarevisited.blogspot.sg/2017/04/how-to-convert-map-to-json-to-hashmap-in-java.html" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•åœ¨Javaä¸­å°†JSONè½¬æ¢æˆHashMapï¼Ÿ</a></li><li id="6045" class="ng nh hi ih b ii np im nq iq nr iu ns iy nt jc nl nm nn no bi translated"><a class="ae ls" href="http://javarevisited.blogspot.sg/2017/12/10-things-java-programmers-should-learn.html#axzz53JaDYLsP" rel="noopener ugc nofollow" target="_blank">Javaå¼€å‘äººå‘˜åº”è¯¥å­¦ä¹ çš„10ä»¶äº‹</a></li><li id="7af9" class="ng nh hi ih b ii np im nq iq nr iu ns iy nt jc nl nm nn no bi translated"><a class="ae ls" href="http://javarevisited.blogspot.sg/2018/01/how-to-ignore-unknown-properties-parsing-json-java-jackson.html#axzz56KqU1RoL" rel="noopener ugc nofollow" target="_blank">Javaè§£æJSONæ—¶å¦‚ä½•å¿½ç•¥æœªçŸ¥å±æ€§ï¼Ÿ</a></li><li id="b25e" class="ng nh hi ih b ii np im nq iq nr iu ns iy nt jc nl nm nn no bi translated"><a class="ae ls" href="https://javarevisited.blogspot.com/2022/05/how-to-return-json-xml-or-thymeleaf-.html" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•ä»Spring MVCæ§åˆ¶å™¨è¿”å›JSONï¼Ÿ</a></li></ul><div class="la lb ez fb lc ld"><a href="https://javarevisited.blogspot.com/2022/03/3-examples-to-parse-json-in-java-using.html" rel="noopener  ugc nofollow" target="_blank"><div class="le ab dw"><div class="lf ab lg cl cj lh"><h2 class="bd hj fi z dy li ea eb lj ed ef hh bi translated">åœ¨Javaä¸­å°†JSONå­—ç¬¦ä¸²è§£æä¸ºå¯¹è±¡çš„3ç§æ–¹æ³•[Jacksonã€Gsonå’ŒJSONâ€”â€”ç®€å•çš„ä¾‹å­]</h2><div class="lk l"><h3 class="bd b fi z dy li ea eb lj ed ef dx translated">Java webåº”ç”¨ç¨‹åºï¼Œå°¤å…¶æ˜¯å¤„ç†RESTful webæœåŠ¡çš„åº”ç”¨ç¨‹åºçš„å¸¸è§ä»»åŠ¡ä¹‹ä¸€æ˜¯è§£æâ€¦</h3></div><div class="ll l"><p class="bd b fp z dy li ea eb lj ed ef dx translated">javarevisited.blogspot.com</p></div></div><div class="lm l"><div class="nu l lo lp lq lm lr jn ld"/></div></div></a></div></div></div>    
</body>
</html>