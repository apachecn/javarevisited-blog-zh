<html>
<head>
<title>Mapstruct â€” Bean Mapping framework</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Mapstruct â€” Beanæ˜ å°„æ¡†æ¶</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/javarevisited/mapstruct-bean-mapping-framework-7955ac60a746?source=collection_archive---------1-----------------------#2021-11-08">https://medium.com/javarevisited/mapstruct-bean-mapping-framework-7955ac60a746?source=collection_archive---------1-----------------------#2021-11-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><a href="https://www.java67.com/2016/09/map-reduce-example-java8.html"><div class="er es if"><img src="../Images/12af3c085070f8ae24c2c4bc4fc09541.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aQcMkk-OO_C4JdwcIJ9DiQ.jpeg"/></div></a></figure><p id="e591" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">ä½ æœ‰æ²¡æœ‰é¢å¯¹è¿‡Javaä¸­å±æ€§(Bean)æ˜ å°„çš„æ¯ç‡¥ä»»åŠ¡ï¼Ÿä½ æ›¾ç»éœ€è¦ç¼–å†™æœåŠ¡POJOåˆ°d toè½¬æ¢çš„ä»£ç å—ï¼Ÿæ‚¨éœ€è¦ä¸ºæ˜ å°„APIå‡†å¤‡ä¸€ä¸ªè®¾è®¡å—ï¼Ÿ</p><blockquote class="jk jl jm"><p id="2d39" class="im in jn io b ip iq ir is it iu iv iw jo iy iz ja jp jc jd je jq jg jh ji jj hb bi translated">MapStructæ˜¯æ»¡è¶³ä¸Šè¿°éœ€æ±‚çš„æ­£ç¡®è§£å†³æ–¹æ¡ˆã€‚</p></blockquote><p id="43ba" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">MapStructæ˜¯ä¸€ä¸ªä»£ç ç”Ÿæˆå™¨ï¼Œå®ƒåŸºäºé…ç½®æ–¹æ³•çš„çº¦å®šï¼Œæå¤§åœ°ç®€åŒ–äº†Java beanç±»å‹ä¹‹é—´æ˜ å°„çš„å®ç°ã€‚</p><p id="64a8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºä¸åŒçš„åœºæ™¯åŠå…¶å®ç°å’Œç¤ºä¾‹ã€‚</p><h1 id="b88f" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated"><strong class="ak">æŒ‡æ•°</strong></h1><ul class=""><li id="8fee" class="kp kq hi io b ip kr it ks ix kt jb ku jf kv jj kw kx ky kz bi translated">ä¸ºä»€ä¹ˆæ˜¯MapStructï¼Ÿ</li><li id="f50e" class="kp kq hi io b ip la it lb ix lc jb ld jf le jj kw kx ky kz bi translated">å¦‚ä½•å®æ–½ï¼Ÿ</li><li id="f72b" class="kp kq hi io b ip la it lb ix lc jb ld jf le jj kw kx ky kz bi translated">ä¾‹å­â€”</li></ul><ol class=""><li id="3863" class="kp kq hi io b ip iq it iu ix lf jb lg jf lh jj li kx ky kz bi translated">ç²¾ç¡®åç§°æ˜ å°„(åŸºæœ¬)</li><li id="7073" class="kp kq hi io b ip la it lb ix lc jb ld jf le jj li kx ky kz bi translated">ä¸åŒçš„åç§°æ˜ å°„</li><li id="54cb" class="kp kq hi io b ip la it lb ix lc jb ld jf le jj li kx ky kz bi translated">è‡ªå®šä¹‰å¯¹è±¡æ˜ å°„</li><li id="be0b" class="kp kq hi io b ip la it lb ix lc jb ld jf le jj li kx ky kz bi translated">æ˜ å°„çš„è‡ªå®šä¹‰æ–¹æ³•</li><li id="f503" class="kp kq hi io b ip la it lb ix lc jb ld jf le jj li kx ky kz bi translated">é›†åˆæ˜ å°„</li><li id="0e69" class="kp kq hi io b ip la it lb ix lc jb ld jf le jj li kx ky kz bi translated">é™„åŠ å¯¹è±¡æ˜ å°„</li><li id="c4f2" class="kp kq hi io b ip la it lb ix lc jb ld jf le jj li kx ky kz bi translated">@BeforeMappingå’Œ@AfterMappingæ‰¹æ³¨</li></ol></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><h2 id="1414" class="lq js hi bd jt lr ls lt jx lu lv lw kb ix lx ly kf jb lz ma kj jf mb mc kn md bi translated">é‚£ä¹ˆè®©æˆ‘ä»¬å¼€å§‹å§ã€‚</h2><h1 id="c5cd" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">ä¸ºä»€ä¹ˆæ˜¯MapStructï¼Ÿ</h1><p id="1a3a" class="pw-post-body-paragraph im in hi io b ip kr ir is it ks iv iw ix me iz ja jb mf jd je jf mg jh ji jj hb bi translated">å¤šå±‚åº”ç”¨ç¨‹åºé€šå¸¸éœ€è¦ä¸åŒå¯¹è±¡æ¨¡å‹(ä¾‹å¦‚å®ä½“å’Œdto)ä¹‹é—´çš„æ˜ å°„ã€‚ç¼–å†™è¿™æ ·çš„æ˜ å°„ä»£ç æ˜¯ä¸€é¡¹ä¹å‘³ä¸”å®¹æ˜“å‡ºé”™çš„ä»»åŠ¡ã€‚MapStructæ—¨åœ¨é€šè¿‡å°½å¯èƒ½è‡ªåŠ¨åŒ–æ¥ç®€åŒ–è¿™é¡¹å·¥ä½œã€‚</p><p id="b510" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">ä¸å…¶ä»–æ˜ å°„æ¡†æ¶ç›¸æ¯”ï¼ŒMapStructåœ¨ç¼–è¯‘æ—¶ç”Ÿæˆbeanæ˜ å°„ï¼Œè¿™ç¡®ä¿äº†é«˜æ€§èƒ½ï¼Œå…è®¸å¿«é€Ÿçš„å¼€å‘äººå‘˜åé¦ˆå’Œå½»åº•çš„é”™è¯¯æ£€æŸ¥ã€‚</p><h1 id="0598" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">å¦‚ä½•å®æ–½ï¼Ÿ</h1><p id="30b3" class="pw-post-body-paragraph im in hi io b ip kr ir is it ks iv iw ix me iz ja jb mf jd je jf mg jh ji jj hb bi translated">MapStructæ˜¯ä¸€ä¸ªæ³¨é‡Šå¤„ç†å™¨ï¼Œå®ƒè¢«æ’å…¥åˆ°Javaç¼–è¯‘å™¨ä¸­ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œæ„å»ºä¸­ä½¿ç”¨(Mavenã€Gradleç­‰)ã€‚)ä»¥åŠæ‚¨é¦–é€‰çš„IDEä¸­ã€‚</p><p id="72ac" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">æ‚¨éœ€è¦åœ¨ç¼–è¯‘å™¨æ’ä»¶ä¸­æ·»åŠ ä¸‹é¢çš„ä¾èµ–é¡¹å’Œæ³¨é‡Šæ ‡ç­¾</p><h2 id="f5ba" class="lq js hi bd jt lr ls lt jx lu lv lw kb ix lx ly kf jb lz ma kj jf mb mc kn md bi translated">pom.xml</h2><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="a2a8" class="lq js hi mm b fi mq mr l ms mt">&lt;properties&gt;<br/> &lt;org.mapstruct.version&gt;1.4.2.Final&lt;/org.mapstruct.version&gt;<br/>&lt;/properties&gt;</span><span id="619b" class="lq js hi mm b fi mu mr l ms mt">&lt;dependency&gt;<br/>   &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;<br/>   &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;<br/>   &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;<br/>&lt;/dependency&gt;</span><span id="3ce5" class="lq js hi mm b fi mu mr l ms mt">&lt;plugin&gt;<br/> &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;<br/> &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;<br/> &lt;version&gt;3.8.1&lt;/version&gt;<br/> &lt;configuration&gt;<br/>  &lt;source&gt;1.8&lt;/source&gt; &lt;!-- depending on your project --&gt;<br/>  &lt;target&gt;1.8&lt;/target&gt; &lt;!-- depending on your project --&gt;<br/>  <strong class="mm hj">&lt;annotationProcessorPaths&gt;<br/>   &lt;path&gt;<br/>    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;<br/>    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;<br/>    &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;<br/>   &lt;/path&gt;<br/>  &lt;/annotationProcessorPaths&gt;</strong><br/> &lt;/configuration&gt;<br/>&lt;/plugin&gt;</span></pre></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><h1 id="74cf" class="jr js hi bd jt ju mv jw jx jy mw ka kb kc mx ke kf kg my ki kj kk mz km kn ko bi translated">1.ç²¾ç¡®åç§°æ˜ å°„(åŸºæœ¬)</h1><p id="094b" class="pw-post-body-paragraph im in hi io b ip kr ir is it ks iv iw ix me iz ja jb mf jd je jf mg jh ji jj hb bi translated">è¿™é‡Œæˆ‘ä»¬çš„ä»»åŠ¡æ˜¯ä»æ¨¡å‹å±‚æ£€ç´¢<strong class="io hj">ç”µè·¯</strong>å¯¹è±¡ï¼Œå¹¶é€šè¿‡åˆ›å»º<strong class="io hj">ç”µè·¯åˆ°</strong>ç±»å°†å…¶ä¼ é€’ç»™æŒä¹…å±‚ã€‚æ‰€ä»¥æˆ‘ä»¬å°†ç®€å•çš„<strong class="io hj">ç”µè·¯</strong>ç±»æ˜ å°„åˆ°<strong class="io hj">ç”µè·¯åˆ°</strong>ç±»ã€‚</p><p id="d406" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">Circuit.java</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="3e49" class="lq js hi mm b fi mq mr l ms mt">@Data<br/>public class Circuit{<br/> private int id;<br/> private String name;<br/>}</span></pre><p id="a64e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">CircuitDto.java</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="7ea9" class="lq js hi mm b fi mq mr l ms mt">@Data<br/>public class CircuitDto {<br/> private int id;<br/> private String name;<br/>}</span></pre><p id="61f5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ˜ å°„å™¨æ¥å£ã€‚</p><p id="3c95" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">CircuitMapper.java</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="54b6" class="lq js hi mm b fi mq mr l ms mt">@Mapper(componentModel = "spring")<br/>public interface CircuitMapper {<br/> CircuitDto toDto(Circuit circuit);<br/>}</span></pre><p id="50a5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">@Mapper <em class="jn"> â†’ MapStructçš„æ³¨é‡Šåˆ›å»ºå¹¶ç”Ÿæˆæ˜ å°„å®ç°</em></p><p id="998f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jn"> componentModel = "spring" â†’åœ¨springé¡¹ç›®ä¸­ç”Ÿæˆbeanï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†è¿™ä¸ªbeanæ³¨é‡Šä¸ºautowireã€‚</em></p><p id="1e7f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">å› ä¸ºä¸¤ä¸ªç±»æœ‰ç›¸åŒçš„å±æ€§åï¼Œæˆ‘ä»¬ä¸éœ€è¦ä¸ºå®ƒå†™ä»»ä½•æ˜¾å¼çš„æ˜ å°„ã€‚Mapstructå°†åŒ…æ‹¬è¿™ä¸¤ä¸ªå­—æ®µçš„æ˜ å°„ã€‚</p><p id="fec8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">ä¸ºäº†æµ‹è¯•è¿™ä¸ªâ€”</p><p id="4cc1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">CircuitMapperTest.java</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="4871" class="lq js hi mm b fi mq mr l ms mt">@Autowired<br/>CircuitMapper circuitMapper;<br/><br/>@Test<br/>public void testCircuitDtoMapping(){<br/>    Circuit circuit = new Circuit(123, "transportBearer123");<br/>    CircuitDto circuitDto = circuitMapper.toDto(circuit);<br/>    assertEquals(circuit.getId(), circuitDto.getId());<br/>    assertEquals(circuit.getName(), circuitDto.getName());<br/>}</span></pre><h1 id="f795" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated"><strong class="ak"> 2ã€‚ä¸åŒçš„åç§°æ˜ å°„</strong></h1><p id="117b" class="pw-post-body-paragraph im in hi io b ip kr ir is it ks iv iw ix me iz ja jb mf jd je jf mg jh ji jj hb bi translated">ç°åœ¨è®©æˆ‘ä»¬åœ¨ä¸¤ä¸ªbeansä¸­éƒ½åŒ…å«ä¸åŒçš„åç§°ã€‚</p><p id="b6ad" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">Circuit.java</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="2df7" class="lq js hi mm b fi mq mr l ms mt"><a class="ae na" href="http://twitter.com/Data" rel="noopener ugc nofollow" target="_blank">@Data</a><br/>public class Circuit{<br/> private int id;<br/> private String name;<br/> private long circuitTypeId;<br/>}</span></pre><p id="fe7b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">CircuitDto.java</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="ab24" class="lq js hi mm b fi mq mr l ms mt"><a class="ae na" href="http://twitter.com/Data" rel="noopener ugc nofollow" target="_blank">@Data</a><br/>public class CircuitDto {<br/> private int id;<br/> private String name;<br/> private long circuit2circuitType;<br/>}</span></pre><p id="9981" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">ç°åœ¨ï¼Œæ˜ å°„å™¨å°†æ— æ³•è‡ªåŠ¨æ˜ å°„å®ƒã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬åªéœ€ç®€å•åœ°æåˆ°å¦‚ä¸‹çš„æ˜ å°„ã€‚</p><p id="3014" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">CircuitMapper.java</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="100f" class="lq js hi mm b fi mq mr l ms mt"><a class="ae na" href="http://twitter.com/Mapper" rel="noopener ugc nofollow" target="_blank">@Mapper</a>(componentModel = "spring")<br/>public interface CircuitMapper {<br/> <a class="ae na" href="http://twitter.com/Mapping" rel="noopener ugc nofollow" target="_blank">@Mapping</a>(source = "circuitTypeId", target = "circuit2circuitType")<br/> CircuitDto toDto(Circuit circuit);<br/>}</span></pre><h1 id="2a50" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">3.è‡ªå®šä¹‰å¯¹è±¡æ˜ å°„</h1><p id="7c06" class="pw-post-body-paragraph im in hi io b ip kr ir is it ks iv iw ix me iz ja jb mf jd je jf mg jh ji jj hb bi translated">è®©æˆ‘ä»¬ç»§ç»­ä¸Šé¢çš„ä¾‹å­ï¼ŒCircuitæœ‰å®ƒè‡ªå·±çš„å­å¯¹è±¡(Port ),æˆ‘ä»¬éœ€è¦æ˜ å°„å®ƒã€‚</p><p id="9ea2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">æºç±»</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="9ef3" class="lq js hi mm b fi mq mr l ms mt"><a class="ae na" href="http://twitter.com/Data" rel="noopener ugc nofollow" target="_blank">@Data</a><br/>public class Circuit{<br/> private int id;<br/> private String name;<br/> private long circuitTypeId;<br/> private Port port;<br/>}</span><span id="8e00" class="lq js hi mm b fi mu mr l ms mt">public class Port{<br/> private int id;<br/> private String name;<br/>}</span></pre><p id="eeec" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">ç›®æ ‡ç­çº§</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="b92f" class="lq js hi mm b fi mq mr l ms mt"><a class="ae na" href="http://twitter.com/Data" rel="noopener ugc nofollow" target="_blank">@Data</a><br/>public class CircuitDto {<br/> private int id;<br/> private String name;<br/> private long circuit2circuitType;<br/> private PortDto portDto;<br/>}</span><span id="6153" class="lq js hi mm b fi mu mr l ms mt"><a class="ae na" href="http://twitter.com/Data" rel="noopener ugc nofollow" target="_blank">@Data</a><br/>public class PortDto{<br/> private int id;<br/> private String name;<br/>}</span></pre><p id="7323" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">è¦è¿›è¡Œå­ç±»æ˜ å°„ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„æ˜ å°„å™¨ï¼Œå¦‚Circuitï¼Œç„¶ååƒuses = {PortMapper.class}ä¸€æ ·å¯¼å…¥å®ƒã€‚</p><p id="7c7a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">æ˜ å°„å™¨æ¥å£</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="3f7b" class="lq js hi mm b fi mq mr l ms mt"><a class="ae na" href="http://twitter.com/Mapper" rel="noopener ugc nofollow" target="_blank">@Mapper</a>(componentModel = "spring")<br/>public interface PortMapper {<br/> PortDto toDto(Port port);<br/>}</span><span id="3306" class="lq js hi mm b fi mu mr l ms mt"><a class="ae na" href="http://twitter.com/Mapper" rel="noopener ugc nofollow" target="_blank">@Mapper</a>(componentModel = "spring",<br/>  uses = {PortMapper.class})<br/>public interface CircuitMapper {</span><span id="0758" class="lq js hi mm b fi mu mr l ms mt"><a class="ae na" href="http://twitter.com/Mapping" rel="noopener ugc nofollow" target="_blank">@Mapping</a>(source = "circuitTypeId", target = "circuit2circuitType")<br/> CircuitDto toDto(Circuit circuit);<br/>}</span></pre><h1 id="1d3e" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">4.æ˜ å°„çš„è‡ªå®šä¹‰æ–¹æ³•</h1><p id="0708" class="pw-post-body-paragraph im in hi io b ip kr ir is it ks iv iw ix me iz ja jb mf jd je jf mg jh ji jj hb bi translated">å¦‚æœå¯¹äºæŸä¸ªå±æ€§ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰é€»è¾‘æ¥æ˜ å°„å€¼ã€‚æˆ‘ä»¬è¿˜å¯ä»¥ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰çš„æ˜ å°„æ–¹æ³•ã€‚</p><p id="836c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">ä¾‹å¦‚ï¼Œåœ¨æºCircuitç±»ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå­ç”µè·¯åˆ—è¡¨ï¼Œè€Œåœ¨ç›®æ ‡CircuitDtoç±»ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªå­ç”µè·¯è®¡æ•°ã€‚</p><p id="9996" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">Circuit.java</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="3ae8" class="lq js hi mm b fi mq mr l ms mt"><a class="ae na" href="http://twitter.com/Data" rel="noopener ugc nofollow" target="_blank">@Data</a><br/>public class Circuit{<br/> private int id;<br/> private String name;<br/> private List&lt;Circuit&gt; childCircuits;<br/>}</span></pre><p id="c42a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">CircuitDto.java</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="ef31" class="lq js hi mm b fi mq mr l ms mt"><a class="ae na" href="http://twitter.com/Data" rel="noopener ugc nofollow" target="_blank">@Data</a><br/>public class CircuitDto {<br/> private int id;<br/> private String name;<br/> private int noOfChildCirtcuits;<br/>}</span></pre><p id="707d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">è¿™é‡Œæˆ‘ä»¬å¿…é¡»ç¼–å†™æˆ‘ä»¬çš„è‡ªå®šä¹‰æ–¹æ³•æ¥è®¡ç®—å­ç”µè·¯çš„å¤§å°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨@named Autowireç¼–å†™æˆ‘ä»¬çš„è‡ªå®šä¹‰æ–¹æ³•ã€‚è¿™å¯ä»¥ç”±æ˜ å°„å­—æ®µä¸­çš„<em class="jn"> qualifiedByName </em>æä¾›ã€‚</p><p id="fa09" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">CircuitMapper.java</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="6f96" class="lq js hi mm b fi mq mr l ms mt"><a class="ae na" href="http://twitter.com/Mapper" rel="noopener ugc nofollow" target="_blank">@Mapper</a>(componentModel = "spring")<br/>public interface CircuitMapper {</span><span id="4e82" class="lq js hi mm b fi mu mr l ms mt"><a class="ae na" href="http://twitter.com/Mapping" rel="noopener ugc nofollow" target="_blank">@Mapping</a>(<br/>         source = "childCircuits", <br/>         target = "noOfChildCirtcuits", <br/>         qualifiedByName = "countChildCircuits")<br/> CircuitDto toDto(Circuit circuit);<br/> <br/> <br/>  <a class="ae na" href="http://twitter.com/Named" rel="noopener ugc nofollow" target="_blank">@Named</a>("countChildCircuits")<br/>   default int getChildCircuits(List&lt;Circuit&gt; childCircuits) {<br/>      if(childCircuits == null) {<br/>         return 0;<br/>      }<br/>      return childCircuits.size();<br/>   }<br/>   <br/>}</span></pre><h1 id="aac8" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">5.é›†åˆæ˜ å°„</h1><p id="6a1d" class="pw-post-body-paragraph im in hi io b ip kr ir is it ks iv iw ix me iz ja jb mf jd je jf mg jh ji jj hb bi translated">å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè¿™æ ·çš„å±æ€§é›†åˆï¼Œæˆ‘ä»¬åªæ˜¯æƒ³å°†å®ƒæ˜ å°„åˆ°ç›®æ ‡ç±»ä¸­ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨ç”µè·¯ç±»çš„æºä¸­æœ‰ä¸€ä¸ªç«¯å£åˆ—è¡¨ï¼Œæˆ‘ä»¬å¸Œæœ›å°†å®ƒæ˜ å°„åˆ°ç›®æ ‡ç±»ä¸­çš„PortDtoåˆ—è¡¨ã€‚</p><p id="0c4e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">æºç±»</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="31e8" class="lq js hi mm b fi mq mr l ms mt"><a class="ae na" href="http://twitter.com/Data" rel="noopener ugc nofollow" target="_blank">@Data</a><br/>public class Circuit{<br/> private int id;<br/> private String name;<br/> private long circuitTypeId;<br/> private List&lt;Port&gt; port;<br/>}</span><span id="0756" class="lq js hi mm b fi mu mr l ms mt">public class Port{<br/> private int id;<br/> private String name;<br/>}</span></pre><p id="6af0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">ç›®æ ‡ç±»åˆ«</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="4944" class="lq js hi mm b fi mq mr l ms mt"><a class="ae na" href="http://twitter.com/Data" rel="noopener ugc nofollow" target="_blank">@Data</a><br/>public class CircuitDto {<br/> private int id;<br/> private String name;<br/> private long circuit2circuitType;<br/> private List&lt;PortDto&gt; portDto;<br/>}</span><span id="fc71" class="lq js hi mm b fi mu mr l ms mt"><a class="ae na" href="http://twitter.com/Data" rel="noopener ugc nofollow" target="_blank">@Data</a><br/>public class PortDto{<br/> private int id;<br/> private String name;<br/>}</span></pre><p id="4b27" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">è¦è¿›è¡Œæ­¤åˆ—è¡¨æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°åœ¨PortMapper.classä¸­å®šä¹‰æ­¤åˆ—è¡¨æ˜ å°„ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><p id="88ea" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">æ˜ å°„å™¨æ¥å£</strong></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="4630" class="lq js hi mm b fi mq mr l ms mt"><a class="ae na" href="http://twitter.com/Mapper" rel="noopener ugc nofollow" target="_blank">@Mapper</a>(componentModel = "spring")<br/>public interface PortMapper {<br/> PortDto toDto(Port port);<br/> <br/>  List&lt;PortDto&gt; toPortDtoList(List&lt;Port&gt; ports);<br/>}</span><span id="1919" class="lq js hi mm b fi mu mr l ms mt"><a class="ae na" href="http://twitter.com/Mapper" rel="noopener ugc nofollow" target="_blank">@Mapper</a>(componentModel = "spring",<br/>  uses = {PortMapper.class})<br/>public interface CircuitMapper {</span><span id="bab7" class="lq js hi mm b fi mu mr l ms mt"><a class="ae na" href="http://twitter.com/Mapping" rel="noopener ugc nofollow" target="_blank">@Mapping</a>(source = "circuitTypeId", target = "circuit2circuitType")<br/> CircuitDto toDto(Circuit circuit);<br/>}</span></pre><h1 id="441a" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">6.é™„åŠ å¯¹è±¡æ˜ å°„</h1><p id="57fe" class="pw-post-body-paragraph im in hi io b ip kr ir is it ks iv iw ix me iz ja jb mf jd je jf mg jh ji jj hb bi translated">ä¸ºäº†è¿åˆè¿™ç§ç‰¹æ®Šå¤„ç†ï¼ŒMapStructè¿˜åœ¨æ˜ å°„å­—æ®µä¸­æä¾›äº†ä¸€äº›ç‰¹æ®Šçš„å±æ€§ã€‚</p><p id="c040" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ç›®æ ‡ç±»ä¸­æ˜ å°„å›ºå®šå€¼ã€‚åƒåœ¨ç›®æ ‡CircuitDtoç±»ä¸­ä¸€æ ·ï¼Œæˆ‘ä»¬å¸Œæœ›æ˜ å°„å…·æœ‰å›ºå®šå€¼â€œCircuitâ€çš„å­—æ®µç±»å‹ã€‚</p><p id="dd0f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">æˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·ç›´æ¥æ˜ å°„å®ƒã€‚</p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="8e79" class="lq js hi mm b fi mq mr l ms mt">@Mapping(target = "type", constant = "Circuit")</span></pre><p id="4b07" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">æ›´å¤šçš„ç‰¹æ®Šå±æ€§ï¼Œå¯ä»¥å»æŸ¥é˜…MapStrcutçš„å®˜æ–¹æ–‡æ¡£ã€‚</p><p id="e8ae" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">7ã€‚@BeforeMappingå’Œ@AfterMappingæ³¨é‡Š</p><p id="9077" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">æœ‰ä¸¤ä¸ªéå¸¸é‡è¦çš„æ³¨é‡Šéå¸¸æœ‰åŠ©äºåœ¨å¼€å¤´æˆ–ç»“å°¾è¿åˆç‰¹æ®Šè¦æ±‚ã€‚</p><p id="4dc5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">@BeforeMapping â€”åœ¨æˆ‘ä»¬å¼€å§‹æ˜ å°„ä¹‹å‰ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æ·»åŠ ä¸€äº›éªŒè¯æˆ–å±æ€§/é›†åˆåˆ›å»ºã€‚</p><p id="e87d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">@AfterMapping â€”åœ¨æ˜ å°„ä¹‹åï¼Œå¦‚æœæˆ‘ä»¬æƒ³å¯¹ç›®æ ‡ç±»åšæœ€åçš„ä¿®æ”¹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒä½œä¸ºè¿™ä¸ªæ–¹æ³•çš„ä¸€éƒ¨åˆ†æ¥åšã€‚</p><p id="3381" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œæˆ‘ä»¬å·²ç»åœ¨@BeforeMappingä¸­åˆå§‹åŒ–äº†åˆ—è¡¨<circuits>,å¹¶ä¸”åŸºäºå­ç”µè·¯çš„è®¡æ•°ï¼Œæˆ‘ä»¬å·²ç»åœ¨@AfterMappingä¸­è®¾ç½®äº†isChildCircuitAvailableå¸ƒå°”æ ‡å¿—</circuits></p><pre class="mh mi mj mk fd ml mm mn mo aw mp bi"><span id="b7f0" class="lq js hi mm b fi mq mr l ms mt"><a class="ae na" href="http://twitter.com/Mapper" rel="noopener ugc nofollow" target="_blank">@Mapper</a>(componentModel = "spring",<br/>  uses = {PortMapper.class})<br/>public interface CircuitMapper {</span><span id="8521" class="lq js hi mm b fi mu mr l ms mt"><a class="ae na" href="http://twitter.com/BeforeMapping" rel="noopener ugc nofollow" target="_blank">@BeforeMapping</a><br/>    default void setChildCircuitList(Circuit circuit) {<br/>  if(circuit.getChildCircuits == null){<br/>   circuit.setChildCircuits( new ArrayList&lt;Circuit&gt;());<br/>  }<br/> }</span><span id="9141" class="lq js hi mm b fi mu mr l ms mt"><a class="ae na" href="http://twitter.com/Mapping" rel="noopener ugc nofollow" target="_blank">@Mapping</a>(source = "circuitTypeId", target = "circuit2circuitType")<br/> CircuitDto toDto(Circuit circuit);<br/> <br/> <a class="ae na" href="http://twitter.com/AfterMapping" rel="noopener ugc nofollow" target="_blank">@AfterMapping</a><br/> default void setisChildCircuitsAvailable(CircuitDto circuitDto) {<br/>  if(circuitDto.getNoOfChildCirtcuits &gt;0){<br/>   circuitDto.isChildCircuitsAvailable(true);<br/>  }<br/> } <br/>}</span></pre><h1 id="8d61" class="jr js hi bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">ç»“è®º</h1><p id="d655" class="pw-post-body-paragraph im in hi io b ip kr ir is it ks iv iw ix me iz ja jb mf jd je jf mg jh ji jj hb bi translated">æœ¬æ–‡æè¿°äº†å¦‚ä½•åˆ©ç”¨Mapstructåº“ä»¥ä¸€ç§å®‰å…¨è€Œä¼˜é›…çš„æ–¹å¼æ˜¾è‘—å‡å°‘æˆ‘ä»¬çš„æ ·æ¿ä»£ç ã€‚</p><p id="20e7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">æ­£å¦‚åœ¨ä¾‹å­ä¸­çœ‹åˆ°çš„ï¼ŒMapstructæä¾›äº†å¤§é‡çš„åŠŸèƒ½å’Œé…ç½®ï¼Œå…è®¸æˆ‘ä»¬ä»¥ä¸€ç§ç®€å•å¿«é€Ÿçš„æ–¹å¼åˆ›å»ºä»åŸºæœ¬åˆ°å¤æ‚çš„æ˜ å°„å™¨ã€‚</p><p id="ad43" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">è¦äº†è§£æ›´å¤šå…³äºMapStructçš„ä¿¡æ¯ï¼Œä½ å¯ä»¥ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥ã€‚</p><p id="4085" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">æ„Ÿè°¢é˜…è¯»ã€‚äº«å—â€¦ï¼ï¼ï¼ğŸ˜ŠğŸ˜Š</p><blockquote class="jk jl jm"><p id="e31a" class="im in jn io b ip iq ir is it iu iv iw jo iy iz ja jp jc jd je jq jg jh ji jj hb bi translated">å®˜ç½‘â€”<a class="ae na" href="https://mapstruct.org/" rel="noopener ugc nofollow" target="_blank">https://mapstruct.org/</a></p><p id="a969" class="im in jn io b ip iq ir is it iu iv iw jo iy iz ja jp jc jd je jq jg jh ji jj hb bi translated">å®‰è£…æŒ‡å—â€”ã€https://mapstruct.org/documentation/installation/ T2ã€‘</p><p id="16e1" class="im in jn io b ip iq ir is it iu iv iw jo iy iz ja jp jc jd je jq jg jh ji jj hb bi translated">å‚è€ƒæŒ‡å—â€”ã€https://mapstruct.org/documentation/reference-guide/ T4ã€‘</p><p id="03be" class="im in jn io b ip iq ir is it iu iv iw jo iy iz ja jp jc jd je jq jg jh ji jj hb bi translated">ä¾‹å­â€”<a class="ae na" href="https://github.com/mapstruct/mapstruct-examples" rel="noopener ugc nofollow" target="_blank">https://github.com/mapstruct/mapstruct-examples</a></p></blockquote></div></div>    
</body>
</html>