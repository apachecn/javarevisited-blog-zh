# ååº”å¼ç¼–ç¨‹(ç¬¬äºŒéƒ¨åˆ†)

> åŸæ–‡ï¼š<https://medium.com/javarevisited/reactive-programming-part-2-43f73f43ee68?source=collection_archive---------0----------------------->

å†æ¬¡å—¨ï¼Œæˆ‘å¸Œæœ›ä¸€åˆ‡éƒ½å¥½ï¼æˆ‘å¯¹ä¸‹é¢çš„ç…§ç‰‡æ„Ÿåˆ°é«˜å…´ï¼Œæˆ‘å»ºè®®å’Œæˆ‘æœ‰åŒæ ·æ„Ÿè§‰çš„äººï¼Œæ·±å‘¼å¸ï¼Œçœ‹çœ‹ç…§ç‰‡ğŸ˜„ã€‚

![](img/b39cfdce4966247b4357d66775d7a211.png)

ç…§ç‰‡ç”± [Aaron Burden](https://unsplash.com/@aaronburden?utm_source=medium&utm_medium=referral) åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

æ­£å¦‚æˆ‘ä¹‹å‰æ‰€è¯´ï¼Œæˆ‘è¿™é‡Œæœ‰ä¸€ä¸ªååº”å¼ç¼–ç¨‹çš„å®é™…ç¼–ç ç¤ºä¾‹ã€‚

[![](img/64e2591687b3a0af9f7d7b446181e757.png)](https://javarevisited.blogspot.com/2021/04/best-reactive-spring-and-webflux-courses-for-java-developers.html)

å›¾è‡ª [https://spring.io](https://spring.io/reactive)

åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†è®²è§£*â€œå¦‚ä½•ç”¨*[*Spring web flux*](/javarevisited/7-best-webflux-and-reactive-spring-boot-courses-for-java-programmers-33b7c6fa8995)*å’Œ*[*MongoDB*](/javarevisited/10-free-online-courses-to-learn-mongodb-and-nosql-942609611664)*â€*ã€‚

# æŠ€æœ¯å’Œå·¥å…·

è¿™é‡Œçš„æ•™ç¨‹ä½¿ç”¨ [IntelliJ IDEA](/javarevisited/7-best-courses-to-learn-intellij-idea-for-beginners-and-experienced-java-programmers-2e9aa9bb0c05) ã€ [Maven](/javarevisited/6-best-maven-courses-for-beginners-in-2020-23ea3cba89) å’Œ [Postman](/javarevisited/7-best-courses-to-learn-postman-tool-for-web-service-and-api-testing-f225c138fa5a) è¿›è¡Œç¼–ç ã€æ„å»ºå’Œ REST API æµ‹è¯•ã€‚æˆ‘åœ¨é©¬ç§‘æ–¯Â·è’™ç‰¹é›·è·‘æ­¥ã€‚

æ‰€æœ‰è½¯ä»¶éƒ½æ˜¯ç”¨ Java å†™çš„ï¼Œç”¨çš„æ˜¯ Spring Boot 2.6.2ã€‚ [MongoDB](https://www.mongodb.com/) 4.2 ç¤¾åŒºæœåŠ¡å™¨ç”¨äºæŒä¹…åŒ–ã€‚

ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘å‡è®¾ä½ å·²ç»å®‰è£…äº† JDK 17.0ã€IntelliJã€Mavenã€ [MongoDB](/javarevisited/10-free-online-courses-to-learn-mongodb-and-nosql-942609611664) å’Œ [Postman](https://javarevisited.blogspot.com/2020/02/top-5-postman-tutorials-and-courses-for-web-developers.html) ã€‚

# ååº”é‚®ä»¶æœåŠ¡

è¿™ä¸ª[å¾®æœåŠ¡](/javarevisited/10-best-java-microservices-courses-with-spring-boot-and-spring-cloud-6d04556bdfed)æä¾›ä¸¤ä¸ªç«¯ç‚¹ã€‚é¦–å…ˆï¼Œç”¨äºå‘é€ç®€å•çš„ç”µå­é‚®ä»¶å’Œå¸¦æœ‰é™„ä»¶çš„ç”µå­é‚®ä»¶ã€‚æ­¤å¤–ï¼Œè¯¥æœåŠ¡å°†ç”µå­é‚®ä»¶çš„æ•°æ®ä¿å­˜åˆ° [MongoDB æ•°æ®åº“](https://javarevisited.blogspot.com/2019/01/top-5-mongodb-online-training-courses.html#axzz7E4Jl2a5D)ã€‚

![](img/d7ebb57f3b5b3b81334d619945d893c0.png)

Solen Feyissa åœ¨ [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) æ‹æ‘„çš„ç…§ç‰‡

æˆ‘åœ¨è¿™é‡Œçš„ç›®æ ‡æ˜¯å±•ç¤ºå¦‚ä½•ä½¿ç”¨è¿™äº›æŠ€æœ¯ä»¥ç®€å•çš„æ–¹å¼å¼€å‘ REST æœåŠ¡ï¼Œè€Œä¸ä¼šæ‰“ä¹±ä¸šåŠ¡é€»è¾‘ã€‚

*   POST æ“ä½œç”¨äºå‘é€ç”µå­é‚®ä»¶ã€‚
*   å¦ä¸€ä¸ª POST æ“ä½œç”¨äºå‘é€å¸¦æœ‰é™„ä»¶çš„ç”µå­é‚®ä»¶ã€‚
*   æœåŠ¡å­˜å‚¨ã€æ¥æ”¶å’Œè¿”å›çš„æ‰€æœ‰å†…å®¹éƒ½è¢«æ ¼å¼åŒ–ä¸º [JSON](https://javarevisited.blogspot.com/2017/02/how-to-consume-json-from-restful-web-services-Spring-RESTTemplate-Example.html) ã€‚

## é‚®ä»¶æ–‡æ¡£æ¨¡å‹

è¿™ä¸ªæ¨¡å‹æœ‰ 6 ä¸ªå­—æ®µ:idï¼Œfromï¼Œtoï¼Œccï¼Œbccï¼Œtime å’Œ MailDocument ç”¨äºå°†æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚

MailDocument.java

## é‚®ä»¶å­˜å‚¨åº“

æ‚¨å¯ä»¥ä½¿ç”¨ [Spring æ•°æ®é¡¹ç›®](/javarevisited/5-best-spring-data-jpa-courses-for-java-developers-45e6438be3c9)è½»æ¾åˆ›å»ºä¸€ä¸ªæ‰©å±• *ReactiveMongoRepository* çš„æ¥å£ã€‚æœ‰äº†è¿™ä¸ªï¼Œå°±ä¸éœ€è¦å®ç°è¿™ä¸ªæ¥å£äº†ã€‚

MailRepository.java

ä½¿ç”¨*ReactiveMongoRepository*è€Œä¸æ˜¯ *MongoRepository* æ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºæœ‰äº†è¿™ä¸ªæ¥å£ï¼Œæˆ‘ä»¬æä¾›äº†ä»è¡¨ç¤ºåˆ°æŒä¹…åŒ–çš„ååº”æ€§ã€‚

## é‚®ä»¶æœåŠ¡

é‚®ä»¶æœåŠ¡æœ‰ä¸¤ä¸ªå…¬å…±æ–¹æ³•å’Œäº”ä¸ªç§æœ‰æ–¹æ³•ã€‚ç®€å•åœ°è¯´ï¼Œè¿™äº›æ–¹æ³•æä¾›å‘é€å¸¦é™„ä»¶æˆ–ä¸å¸¦é™„ä»¶çš„ç”µå­é‚®ä»¶ã€‚åœ¨ s [ç»“æŸç”µå­é‚®ä»¶](https://javarevisited.blogspot.com/2014/08/how-to-send-email-from-java-program-example.html)ä¹‹åï¼Œç”µå­é‚®ä»¶æ•°æ®è¢«ä¿å­˜åˆ° MongoDB æ•°æ®åº“ã€‚

MailService.java

## é‚®ä»¶æ§åˆ¶å™¨

*MailController.java*æ˜¯ä¸€ä¸ª[é™æ­¢æ§åˆ¶å™¨](https://javarevisited.blogspot.com/2017/08/difference-between-restcontroller-and-controller-annotations-spring-mvc-rest.html)ï¼Œå®ƒæœ‰ä¸¤ä¸ª`@PostMapping`ã€‚

MailController.java

## æ•°æ®åº“é…ç½®

æ‚¨éœ€è¦å¯åŠ¨ MongoDB ä¸€æ¬¡æ¥è¿æ¥æ•°æ®åº“ã€‚å¦‚æœä½ ä½¿ç”¨ [brew](https://brew.sh/#install) ï¼Œä½ å¯ä»¥ç¼–å†™ä¸‹é¢çš„å‘½ä»¤ã€‚

```
brew services start mongodb-community@4.2
```

å¦‚æœæ‚¨åœ¨ç»ˆç«¯çª—å£ä¸Šçœ‹åˆ°è¿™æ¡æ¶ˆæ¯ï¼Œé‚£ä¹ˆæ‚¨çš„æ–¹æ³•æ˜¯æ­£ç¡®çš„ã€‚

![](img/87081f9e055cd8f3a635d7a3d90e8d11.png)

è¦è¿æ¥åˆ° [MongoDB æ•°æ®åº“](/javarevisited/5-best-nosql-database-programmers-and-developers-can-learn-42a0bdfa9a12)ï¼Œç¼–è¾‘*â€œapplication . propertiesâ€*æ–‡ä»¶ä¸­çš„è®¾ç½®ï¼Œè¯¥æ–‡ä»¶æ˜¯*â€œresourcesâ€*çš„ä¸€éƒ¨åˆ†ã€‚ä»¥ä¸‹é…ç½®å°±è¶³å¤Ÿäº†ã€‚

```
#mongodb
spring.data.mongodb.host=localhost
spring.data.mongodb.port=27017
spring.data.mongodb.database=test
```

# ä½¿ç”¨ Postman è¿è¡ŒæœåŠ¡å’Œæµ‹è¯•

æ‚¨å¯ä»¥è½»æ¾åœ°è¿è¡Œè¿™ä¸ªé¡¹ç›®æ¥æµ‹è¯• REST ç«¯ç‚¹ã€‚

[![](img/19ccc88c94eaa2ea8ab9d0423035c457.png)](https://javarevisited.blogspot.com/2020/05/top-20-spring-boot-interview-questions-answers.html)

åœ¨ IntelliJ ä¸­è¿è¡Œé¡¹ç›®

è¿è¡Œé¡¹ç›®åï¼Œå¯ä»¥æµ‹è¯• [REST æœåŠ¡](/javarevisited/10-best-java-web-services-rest-soap-and-api-courses-for-beginners-724a8f51298d)ã€‚ä¸ºæ­¤ï¼Œæ‰“å¼€ Postmanï¼Œè¾“å…¥ç½‘å€ï¼Œé€‰æ‹©å¦‚ä¸‹ **POST** æ–¹æ³•ã€‚

[![](img/3bddb85a47cd49ec795402f8a6ddd1b0.png)](https://javarevisited.blogspot.com/2021/10/top-5-courses-to-learn-api-development.html)

å‘é€ç”µå­é‚®ä»¶

æ‚¨å¯ä»¥é€šè¿‡ Postman ä¸­çš„**é‚®æ”¿**æ–¹æ³•å‘é€é‚®ä»¶åˆ°æŒ‡å®šçš„ç”µå­é‚®ä»¶åœ°å€ã€‚é¦–å…ˆè¦è¾“å…¥***Content-Type:application/JSON***header é”®å€¼å¯¹ã€‚ç¬¬äºŒï¼Œåœ¨ body æ ‡ç­¾é¡µä¸­ï¼Œä½ å¿…é¡»è¾“å…¥ä½ æƒ³è¦ä»¥ [JSON æ ¼å¼](https://javarevisited.blogspot.com/2022/03/3-examples-to-parse-json-in-java-using.html)ä¿å­˜æ•°æ®åº“çš„é‚®ä»¶ä¿¡æ¯ã€‚

[![](img/89bbe5b79df951d184f32d663d498691.png)](https://www.java67.com/2016/10/3-ways-to-convert-string-to-json-object-in-java.html)

å‘é€çš„ç”µå­é‚®ä»¶

å¯¹äº†ï¼Œè¿˜å¯ä»¥é€šè¿‡æä¾›å‡†ç¡®çš„ [JSON å¯¹è±¡](https://www.java67.com/2019/09/3-ways-to-ignore-null-fields-in-json-java-jackson.html)æ¥æµ‹è¯•å…¶ä»– [**POST** æ–¹æ³•](https://javarevisited.blogspot.com/2016/10/difference-between-put-and-post-in-restful-web-service.html)ã€‚

**æ³¨:**æœ¬æ•™ç¨‹é‡ç‚¹ä»‹ç» Spring æ•°æ®ã€Spring WebFluxã€MongoDB å’Œ REST API çš„ç»“åˆã€‚é¡¹ç›®ä¸­æ²¡æœ‰å¯¹å¯¹è±¡å­—æ®µçš„éªŒè¯ã€‚

# èµ„æº

*   [https://reactivex.io/](https://reactivex.io/)
*   [https://www.reactivemanifesto.org/](https://www.reactivemanifesto.org/)
*   [https://spring.io/](https://spring.io/)