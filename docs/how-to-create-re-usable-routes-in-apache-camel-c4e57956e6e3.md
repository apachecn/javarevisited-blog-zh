# å¦‚ä½•åœ¨ Apache Camel ä¸­åˆ›å»ºå¯é‡ç”¨çš„è·¯çº¿ï¼Ÿ

> åŸæ–‡ï¼š<https://medium.com/javarevisited/how-to-create-re-usable-routes-in-apache-camel-c4e57956e6e3?source=collection_archive---------2----------------------->

## é˜¿å¸•å¥‡éª†é©¼

ä½ å¥½ï¼ŒğŸ–ï¼Œæˆ‘è‡ªå·± [Rohan Ravindra Kadam](https://medium.com/u/a1b33b7cda75?source=post_page-----c4e57956e6e3--------------------------------) ï¼Œå…¨æ ˆå¼€å‘è€…ï¼Œå°åº¦

æ¬¢è¿ï¼Œå¼€å‘è€…ç¤¾åŒºï¼ï¼åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è¯•å›¾ä½¿ç”¨ Apache Camel æ¥ç†è§£å¯é‡ç”¨çš„è·¯çº¿ã€‚åœ¨ç›´æ¥è¿›å…¥æ–‡ç« ä¹‹å‰ï¼Œè®©æˆ‘ä»¬è¯•ç€ç†è§£ä¸ä¸»é¢˜ç›¸å…³çš„æŸäº›é—®é¢˜æˆ–ç–‘é—®ã€‚æˆ‘ä»¬å¯èƒ½ä¼šæœ‰ç±»ä¼¼[ä»€ä¹ˆæ˜¯é˜¿å¸•å¥‡éª†é©¼](https://javarevisited.blogspot.com/2022/02/top-5-courses-to-learn-apache-camel-in.html)è¿™æ ·çš„é—®é¢˜ï¼Ÿä¸ºä»€ä¹ˆç”¨é˜¿å¸•å¥‡éª†é©¼ï¼Ÿå¦‚ä½•åœ¨ Apache Camel ä¸­åˆ›å»ºå¯é‡ç”¨çš„è·¯çº¿ï¼Ÿ

[![](img/265a83fc1e875640a903f21bdc142242.png)](https://javarevisited.blogspot.com/2022/02/top-5-courses-to-learn-apache-camel-in.html)

å¦‚ä½•åœ¨ Apache Camel ä¸­åˆ›å»ºå¯é‡ç”¨çš„è·¯çº¿ï¼Ÿ

å˜¿ï¼Œç¤¾åŒºï¼Œè®©æˆ‘ä»¬æ·±å…¥åˆ°æˆ‘ä»¬çš„é—®é¢˜ä¸­å»ï¼Œæ‰¾åˆ°é—®é¢˜çš„ç­”æ¡ˆã€‚

> å˜¿ DevCommunity åˆ«å¿˜äº†åœ¨ Instagram ä¸ŠæŸ¥çœ‹æ›´å¤šå†…å®¹ï¼Œç½‘å€ä¸º[**@ rohankadam _ codes**](https://www.instagram.com/rohankadam_codes/)

## âš¡ä»€ä¹ˆæ˜¯é˜¿å¸•å¥‡éª†é©¼ï¼Ÿ

Apache Camel æ˜¯åŸºäºå·²çŸ¥çš„[ä¼ä¸šé›†æˆæ¨¡å¼](https://camel.apache.org/components/3.15.x/eips/enterprise-integration-patterns.html)çš„é€šç”¨å¼€æºé›†æˆæ¡†æ¶ã€‚

Camel ä½¿æ‚¨èƒ½å¤Ÿç”¨å„ç§ç‰¹å®šäºé¢†åŸŸçš„è¯­è¨€( [DSL](https://camel.apache.org/manual/dsl.html) ï¼Œæ¯”å¦‚ [Java](/javarevisited/10-best-places-to-learn-java-online-for-free-ce5e713ab5b2) ï¼ŒXMLï¼Œ [Groovy](/javarevisited/6-best-resources-to-learn-groovy-and-grails-for-java-developers-18c04e88fa8a) ï¼Œ [Kotlin](/javarevisited/top-5-courses-to-learn-kotlin-in-2020-dfc3fa7706d8) ï¼Œä»¥åŠ [YAML](https://javarevisited.blogspot.com/2021/11/top-5-courses-to-learn-yaml-in-2022.html) )æ¥å®šä¹‰è·¯ç”±å’Œä¸­ä»‹è§„åˆ™ã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨ IDE ä¸­æ™ºèƒ½åœ°å®Œæˆè·¯ç”±è§„åˆ™ï¼Œæ— è®ºæ˜¯åœ¨ Java è¿˜æ˜¯ XML ç¼–è¾‘å™¨ä¸­ã€‚

Apache Camel ä½¿ç”¨ [URIs](https://camel.apache.org/manual/uris.html) æ¥ç›´æ¥å¤„ç†ä»»ä½•ç±»å‹çš„ä¼ è¾“æˆ–æ¶ˆæ¯æ¨¡å‹ï¼Œå¦‚ [HTTP](https://camel.apache.org/components/3.15.x/http-component.html) ã€ [ActiveMQ](https://camel.apache.org/components/3.15.x/activemq-component.html) ã€ [JMS](https://camel.apache.org/components/3.15.x/jms-component.html) ã€ã€JBIã€‘SCAã€ [MINA](https://camel.apache.org/components/3.15.x/mina-component.html) æˆ– [CXF](https://camel.apache.org/components/3.15.x/cxf-component.html) ï¼Œä»¥åŠå¯æ’æ‹”çš„[ç»„ä»¶](https://camel.apache.org/manual/component.html)å’Œ[æ•°æ®æ ¼å¼](https://camel.apache.org/manual/data-format.html)é€‰é¡¹ã€‚Apache Camel æ˜¯ä¸€ä¸ªå¾ˆå°çš„åº“ï¼Œå…·æœ‰æœ€å°‘çš„[ä¾èµ–æ€§](https://camel.apache.org/manual/what-are-the-dependencies.html)ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°åµŒå…¥åˆ°ä»»ä½• Java åº”ç”¨ç¨‹åºä¸­ã€‚Apache Camel å…è®¸æ‚¨ä½¿ç”¨ç›¸åŒçš„ [API](https://camel.apache.org/manual/exchange.html) å·¥ä½œï¼Œä¸ç®¡ä½¿ç”¨å“ªç§ä¼ è¾“æ–¹å¼â€”â€”æ‰€ä»¥å­¦ä¹ ä¸€æ¬¡ APIï¼Œæ‚¨å°±å¯ä»¥ä¸å¼€ç®±å³ç”¨çš„æ‰€æœ‰[ç»„ä»¶](https://camel.apache.org/components/3.15.x/index.html)è¿›è¡Œäº¤äº’ã€‚

Apache Camel æ”¯æŒ Bean ç»‘å®šä»¥åŠä¸ CDIã€ [Spring](https://camel.apache.org/manual/spring.html) ç­‰æµè¡Œæ¡†æ¶çš„æ— ç¼é›†æˆã€‚Camel ä¹Ÿå¹¿æ³›æ”¯æŒ[å•å…ƒæµ‹è¯•](https://camel.apache.org/manual/testing.html)ä½ çš„è·¯çº¿ã€‚

## âš¡ä¸ºä»€ä¹ˆä½¿ç”¨é˜¿å¸•å¥‡éª†é©¼ï¼Ÿ

è®©æˆ‘ä»¬è¯•ç€åˆ—å‡º Apache Camel çš„ä¸€äº›ç”¨ä¾‹

1.  ä¸º**ä¼ä¸šé›†æˆæ¨¡å¼(EIP)** æä¾›æ”¯æŒ
2.  **éšå¤„è¿è¡Œ** :- Apache Camel æ˜¯ç‹¬ç«‹çš„ï¼Œå¯ä»¥ä½œä¸ºåº“åµŒå…¥åˆ° [Spring Boot](/javarevisited/10-advanced-spring-boot-courses-for-experienced-java-developers-5e57606816bd) ã€ [Quarkus](/javarevisited/10-best-free-dropwizard-vert-x-micronaut-and-quarkus-online-courses-for-java-developers-9c2b4161f17) ã€åº”ç”¨æœåŠ¡å™¨å’Œäº‘ä¸­ã€‚Camel å­é¡¹ç›®è‡´åŠ›äºç®€åŒ–æ‚¨çš„å·¥ä½œã€‚
3.  **æŒ¤æ»¡äº†ç»„ä»¶** :-æŒ¤æ»¡äº†æ•°ç™¾ä¸ªç»„ä»¶ï¼Œç”¨äºè®¿é—®[æ•°æ®åº“](/javarevisited/7-free-courses-to-learn-database-and-sql-for-programmers-and-data-scientist-e7ae19514ed2)ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ï¼ŒAPI æˆ–å¤©åº•ä¸‹çš„ä»»ä½•ä¸œè¥¿ã€‚å¸®åŠ©ä½ èå…¥ä¸€åˆ‡ã€‚
4.  **æ”¯æŒè¶…è¿‡ 50 ç§æ•°æ®æ ¼å¼** :- Camel æ”¯æŒå¤§çº¦ 50 ç§æ•°æ®æ ¼å¼ï¼Œå…è®¸ç¿»è¯‘å¤šç§æ ¼å¼çš„æ¶ˆæ¯ï¼Œå¹¶æ”¯æŒé‡‘èã€ç”µä¿¡ã€åŒ»ç–—ä¿å¥ç­‰è¡Œä¸šæ ‡å‡†æ ¼å¼ã€‚

## âš¡å¦‚ä½•åœ¨ Apache Camel ä¸­åˆ›å»ºå¯é‡ç”¨çš„è·¯çº¿ï¼Ÿ

å˜¿ï¼ŒğŸ–Communityï¼Œåœ¨æ–‡ç« çš„å‰ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬è¯•å›¾è§£é‡Šä¸ºä»€ä¹ˆä¼šæœ‰é˜¿å¸•å¥‡éª†é©¼ï¼Ÿåœ¨ç¬¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å°è¯•ç†è§£ç›¸åŒçš„å®ç°ã€‚

åœ¨ç›´æ¥è¿›å…¥å®ç°ä¹‹å‰ï¼Œä¸è¦å¿˜è®°çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ Apache Camel ç¼–å†™ç¬¬ä¸€æ¡è·¯çº¿ï¼Ÿä»ä¸‹é¢çš„é“¾æ¥

<https://rohankadam965.medium.com/apache-camel-how-to-write-first-route-7f7767c86c2a>  

## æ­¥éª¤ 1:å¦‚ä½•ä½¿ç”¨ Spring Initializr åˆ›å»ºé¡¹ç›®ï¼Ÿ

<https://start.spring.io/>  

## æ­¥éª¤ 2:é¡¹ç›®ä¸­åŒ…æ‹¬å“ªäº›ä¾èµ–é¡¹ï¼Ÿ

[![](img/ba573deeffd99de9bc6a37f6001e038f.png)](https://www.java67.com/2022/02/5-best-apache-camel-courses-for-java.html)

ä¿¡ç”¨:[æ´›æ±—Â·æ‹‰æ¸©å¾·æ‹‰Â·å¡è¾¾å§†](https://medium.com/u/a1b33b7cda75?source=post_page-----c4e57956e6e3--------------------------------)å±åœ°

## æ­¥éª¤ 3:å¦‚ä½•åœ¨ apache camel ä¸­åˆ›å»ºå¯é‡ç”¨çš„è·¯çº¿ï¼Ÿ

ç»å¸¸éœ€è¦åœ¨å¤šæ¡è·¯çº¿ä¸­æ‰§è¡Œç›¸åŒçš„å¤„ç†æ­¥éª¤ã€‚Apache Camel ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§åœ¨å…±äº«è·¯å¾„ä¸­è°ƒç”¨è·¯ç”±æ­¥éª¤çš„æœºåˆ¶ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä»¥ä¸€ç§ä¸æ™®é€šçš„ Java ç¨‹åº[ä¸­çš„æ–¹æ³•ç­‰åŒçš„æ–¹å¼é‡ç”¨è¯¥è·¯ç”±ã€‚](https://javarevisited.blogspot.com/2017/07/top-50-java-programs-from-coding-Interviews.html)

è¿™ä¸ªèœè°±å°†å‘æˆ‘ä»¬å±•ç¤ºä¸€ç§å¼€å‘æˆ‘ä»¬çš„è·¯ç”±çš„æŠ€æœ¯ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥åœ¨ä»å…¶ä»–è·¯ç”±è°ƒç”¨çš„å…±äº«è·¯ç”±ä¸­å®šä¹‰ç±»ä¼¼çš„è·¯ç”±ä»»åŠ¡ã€‚

**è®©æˆ‘ä»¬å¼€å§‹å§:-**

è®©æˆ‘ä»¬é¦–å…ˆç¡®å®šæƒ³è¦é‡ç”¨çš„è·¯ç”±é€»è¾‘ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªè·¯ç”±å**æ¶ˆæ¯è·¯ç”±**

```
 import org.apache.camel.builder.RouteBuilder;
import org.springframework.stereotype.Component;

@Component
public class MessageRoute extends RouteBuilder {

    @Override
    public void configure() throws Exception { from("direct:StartMessage")
                .log("Received Message is ${body}")
                .end();
    }
}
```

è®©æˆ‘ä»¬ä¸ºä½¿ç”¨çš„æˆ–å…±äº«çš„è·¯ç”±åˆ›å»ºä¸€ä¸ªé¡¶çº§è·¯ç”±

```
 import org.apache.camel.Exchange;
import org.apache.camel.Processor;
import org.apache.camel.builder.RouteBuilder;
import org.springframework.stereotype.Component;

@Component
public class ReusableRoute extends RouteBuilder {

    @Override
    public void configure() throws Exception {
        from("direct:ReusableRoute")
                .routeId("direct:ReusableRoute")
                .process(new Processor() {
                    @Override
                    public void process(Exchange exchange) throws Exception {
                        exchange.getIn().setBody(" Reusable Route ");
                    }
                })
                .to("direct:StartMessage")
                .end();
    }
}
```

å…±äº«è·¯ç”±å¯ä»¥è§†ä¸ºé¡¶çº§è·¯ç”±çš„ä¸€éƒ¨åˆ†ã€‚å®ƒåœ¨åŒä¸€ä¸ª[äº¤æ¢å¯¹è±¡](https://javarevisited.blogspot.com/2020/04/how-to-use-exchanger-in-java-with-example.html)ä¸Šå·¥ä½œï¼Œå¹¶å‚ä¸é¡¶çº§è·¯ç”±å‘èµ·çš„ä»»ä½•äº‹åŠ¡ã€‚

## ç¬¬å››æ­¥:æµ‹è¯•æˆ‘ä»¬çš„éª†é©¼è·¯çº¿ï¼Ÿ

ä¸ºäº†æµ‹è¯•æˆ‘ä»¬çš„éª†é©¼è·¯çº¿ï¼Œå°†ä½¿ç”¨æ§åˆ¶å™¨ç«¯ç‚¹

```
package com.example.apachecameltest;import org.apache.camel.CamelContext;
import org.apache.camel.Exchange;
import org.apache.camel.ProducerTemplate;
import org.apache.camel.builder.ExchangeBuilder;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;@RestController
public class Controler {@Autowired
    private ProducerTemplate producerTemplate;@Autowired
    private CamelContext camelContext;@GetMapping
    public void function() {
        final Exchange
                requestExchange = ExchangeBuilder
                .*anExchange*(camelContext)
                .build();producerTemplate
         .send("direct:ReusableRoute",requestExchange);}
}
```

å˜¿ï¼ŒğŸ–ï¼Œæƒ³äº†è§£æ›´å¤šå…³äº ProducerTemplate & Camel çš„å†…å®¹ï¼Œè¯·ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥

  <https://camel.apache.org/manual/camelcontext.html>  

## ç¬¬äº”æ­¥:éª†é©¼è·¯çº¿è¾“å‡ºï¼Ÿ

```
direct:StartMessage  : Received Message from   Reusable Route
```

## ğŸ–Conclusion:-

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è¯•å›¾åœ¨ apache camel ä¸­åˆ›å»ºå¯é‡ç”¨çš„è·¯çº¿ã€‚æˆ‘ä»¬ä¹Ÿè¯•å›¾äº†è§£ä¸€äº›å…³äºé˜¿å¸•å¥‡éª†é©¼çš„äº‹æƒ…ã€‚è¯·åˆ†äº«å’Œå–œæ¬¢ğŸ’•å¦‚æœä½ è§‰å¾—æ–‡ç« æœ‰ç”¨ã€‚åœ¨åª’ä½“ä¸Šå…³æ³¨æˆ‘ [Rohan Ravindra Kadam](https://medium.com/u/a1b33b7cda75?source=post_page-----c4e57956e6e3--------------------------------) åœ¨ Twitter ä¸Šå…³æ³¨æˆ‘**[**rohankadam 25**](https://twitter.com/rohankadam25)**&**[**insta gram**](https://www.instagram.com/rohankadam_codes/)**

## **âš¡Bibliography**

**<https://camel.apache.org/>  </javarevisited/how-to-implement-exception-handling-using-apache-camel-26faad831e8f>  </javarevisited/how-to-consume-public-api-using-apache-camel-70f7382959ab>  ![](img/8952bc045d848312bfba126ae001248a.png)

è°¢è°¢è§‚ä¼—ä»¬â€” [ç½—æ±‰Â·æ‹‰æ¸©å¾·æ‹‰Â·å¡è¾¾å§†](https://medium.com/u/a1b33b7cda75?source=post_page-----c4e57956e6e3--------------------------------)**