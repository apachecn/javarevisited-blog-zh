# ä»å¤´å¼€å§‹å­¦ä¹  OSGiâ€”â€”eclipseã€IntelliJ å’Œ WSO2 å¹³å°ğŸ–¥ï¸

> åŸæ–‡ï¼š<https://medium.com/javarevisited/learn-osgi-from-scratch-eclipse-intellij-and-wso2-platform-%EF%B8%8F-bf4c5629e097?source=collection_archive---------0----------------------->

è€ƒè™‘ä¸‹é¢è¿™ä¸ªé—®é¢˜ã€‚åœ¨ä»»ä½•å¤§å‹å·¥ç¨‹é¡¹ç›®ä¸­ï¼Œä¾‹å¦‚ï¼Œè®¾è®¡ä¸€åº§æ–°æ¡¥æˆ–å–·æ°”å¼å®¢æœºï¼Œæœ€éš¾å…‹æœçš„æŒ‘æˆ˜æ˜¯ä»€ä¹ˆï¼Ÿ

ç­”æ¡ˆæ˜¯ğŸ’¥*å¤æ‚ã€‚*

å…°åšåŸºå°¼ Aventador æœ‰å¤§çº¦ 100 ä¸‡ä¸ªé›¶ä»¶ï¼Œå®ƒæ˜¯ä¸€å°éå¸¸éå¸¸å¤æ‚çš„æœºå™¨ï¼Œå› ä¸ºè¿™ç§å¤æ‚æ€§ï¼Œæ²¡æœ‰ä¸€ä¸ªäººèƒ½å¤Ÿå®Œå…¨ç†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚å°½ç®¡å®ƒå·²ç»å»ºæˆï¼Œè€Œä¸”å®ƒçš„å¤æ‚æ€§æ¯å¹´éƒ½åœ¨æˆå€å¢åŠ ã€‚é‚£ä¹ˆå·¥ç¨‹å¸ˆå¦‚ä½•æ‰èƒ½é€ å‡ºè¿™æ ·çš„æœºå™¨å‘¢ï¼Ÿ

ç­”æ¡ˆæ˜¯å°†æœºå™¨åˆ†æˆæ›´å°ã€æ›´å®¹æ˜“ç†è§£çš„æ¨¡å—ã€‚

æ¨¡å—åŒ–å¸¦æ¥äº†å‡ ä¸ªé‡è¦çš„å¥½å¤„ã€‚

*   **åˆ†å·¥**â€”â€”å¯ä»¥åˆ†é…å•ç‹¬çš„ä¸ªäººæˆ–å°ç»„åœ¨å•ç‹¬çš„æ¨¡å—ä¸Šå·¥ä½œã€‚ä»äº‹ä¸€ä¸ªæ¨¡å—å·¥ä½œçš„äººå°†ä¼šå¯¹ä»–ä»¬è‡ªå·±çš„æ¨¡å—æœ‰ä¸€ä¸ªå½»åº•çš„äº†è§£ã€‚
*   [**æŠ½è±¡**](https://javarevisited.blogspot.com/2010/10/abstraction-in-java.html#axzz6oOeSmpNw)â€”â€”æŠŠ Aventador å½“åšä¸€ä¸ªæŠ½è±¡æ¨¡å‹ã€‚æˆ‘ä»¬å¯ä»¥å¾—åˆ°è¿™æ ·çš„æƒ³æ³•ï¼Œå®ƒä¼šç§»åŠ¨ï¼Œè€Œä¸å¿…æŒæ¡ç‡ƒæ–™å¦‚ä½•ä¾›åº”æˆ–å‘åŠ¨æœºå¦‚ä½•å·¥ä½œçš„æƒ³æ³•ã€‚
*   **é‡å¤ä½¿ç”¨** â€”è€ƒè™‘åˆ°è®¾è®¡ Aventador æ›´å°çš„ç»„ä»¶æ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œå½“æˆ‘ä»¬éœ€è¦åœ¨å¦ä¸€è¾†è½¦ä¸Šä½¿ç”¨ç±»ä¼¼çš„ç»„ä»¶æ—¶ï¼Œä»å¤´å¼€å§‹è®¾è®¡æ˜¯ä¸€ç§æµªè´¹ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥é‡ç”¨ç»„ä»¶ï¼Œåªéœ€åšæœ€å°çš„æ”¹åŠ¨ï¼Œé‚£å°†ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚
*   **æ˜“äºç»´æŠ¤å’Œä¿®ç†**â€”â€”æ¯å½“è½¦èƒæ¼æ°”æ—¶å°±è¦é‡æ–°ç»„è£…æ•´è¾†è½¦ç®€ç›´æ˜¯ç–¯äº†ã€‚æ¨¡å—åŒ–è®¾è®¡å…è®¸åœ¨ä¸å½±å“æœºå™¨å…¶ä½™éƒ¨åˆ†çš„æƒ…å†µä¸‹ï¼Œç§»é™¤æ•…éšœæ¨¡å—å¹¶è¿›è¡Œç»´ä¿®æˆ–æ›´æ¢ã€‚

Java ç¼–ç¨‹è¯­è¨€æ˜¯æ„å»ºå¤§å‹ä¼ä¸šåº”ç”¨ç¨‹åºä»¥åŠå°å‹ä½†å¹¿æ³›éƒ¨ç½²çš„ç§»åŠ¨åº”ç”¨ç¨‹åºæœ€æµè¡Œçš„è¯­è¨€ä¹‹ä¸€ã€‚ç„¶è€Œï¼Œ **Java æœ¬èº«å¹¶ä¸èƒ½ä»¥ä»»ä½•æœ‰ç”¨çš„æ–¹å¼æ”¯æŒæ¨¡å—åŒ–ã€‚ä½†æ˜¯ Java çš„çµæ´»æ€§å’Œå¯ä¼¸ç¼©æ€§å…è®¸åœ¨å…¶ä¸Šæ„å»ºä¸€ä¸ªå¼ºå¤§çš„æ¨¡å—ç³»ç»Ÿã€‚**

é‚£ä¸ªæ¨¡å—ç³»ç»Ÿè¢«ç§°ä¸º **OSGi** (ä¹‹å‰æ˜¯**å¼€æ”¾æœåŠ¡ç½‘å…³å€¡è®®**çš„é¦–å­—æ¯ç¼©å†™)ï¼Œè¯»ä½œ(Oh-ess-gee-eye)ã€‚

# ğŸš€ä»€ä¹ˆæ˜¯æ¨¡å—ï¼Ÿ

é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯*è½¯ä»¶æ¨¡å—å‘¢ï¼Ÿ*è½¯ä»¶æ¨¡å—å…·æœ‰ä»¥ä¸‹å±æ€§ã€‚

*   **è‡ªåŒ…å«** â€”ä¸€ä¸ªæ¨¡å—æ•´ä½“æ˜¯é€»è¾‘çš„ã€‚å®ƒå¯ä»¥ä½œä¸ºä¸€ä¸ªå•å…ƒç§»åŠ¨ã€å®‰è£…å’Œå¸è½½ã€‚å®ƒç”±è¾ƒå°çš„éƒ¨åˆ†ç»„æˆï¼Œè¿™äº›éƒ¨åˆ†æ˜¯æ¨¡å—çš„ç»„æˆéƒ¨åˆ†ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªè¢«ç§»é™¤ï¼Œæ¨¡å—å¯èƒ½ä¼šåœæ­¢å·¥ä½œã€‚
*   é«˜åº¦å†…èš â€”å†…èšæ˜¯ä¸€ä¸ªæ¨¡å—èŒè´£ç´§å¯†ç›¸å…³ç¨‹åº¦çš„åº¦é‡ã€‚ä¸€ä¸ªæ¨¡å—ä¸åº”è¯¥åšå¾ˆå¤šä¸ç›¸å…³çš„äº‹æƒ…ï¼Œè€Œåº”è¯¥åšæŒä¸€ä¸ªé€»è¾‘ç›®çš„å¹¶å®Œæˆå®ƒã€‚(ä¾‹å¦‚ï¼Œç½‘ç»œæ¨¡å—ä¸åº”æ£€æŸ¥æŒä¹…æ€§ã€æ•°æ®åº“éªŒè¯ã€è¾“å…¥éªŒè¯ã€‚å®ƒåº”è¯¥åªåšæŒç½‘ç»œéƒ¨åˆ†ã€‚)
*   **æ¾è€¦åˆ** â€”ä¸€ä¸ªæ¨¡å—ä¸åº”è¯¥å…³å¿ƒå®ƒä¸ä¹‹äº¤äº’çš„å…¶ä»–æ¨¡å—çš„å†…éƒ¨å®ç°ã€‚æ¾æ•£è€¦åˆå…è®¸æˆ‘ä»¬æ›´æ”¹ä¸€ä¸ªæ¨¡å—çš„å®ç°ï¼Œè€Œä¸éœ€è¦æ›´æ–°ä½¿ç”¨å®ƒçš„æ‰€æœ‰å…¶ä»–æ¨¡å—ã€‚

ä¸ºäº†æ”¯æŒæ‰€æœ‰è¿™ä¸‰ä¸ªå±æ€§ï¼Œæ¨¡å—å¿…é¡»æœ‰ä¸€ä¸ª*æ˜ç¡®å®šä¹‰çš„æ¥å£*æ¥ä¸å…¶ä»–æ¨¡å—äº¤äº’ã€‚ç¨³å®šçš„æ¥å£åŠ å¼ºäº†æ¨¡å—ä¹‹é—´çš„é€»è¾‘ç•Œé™ï¼Œå¹¶é˜²æ­¢å¯¹å†…éƒ¨å®ç°ç»†èŠ‚çš„è®¿é—®ã€‚

# ğŸš€ç½å­çš„é—®é¢˜

Java ä¸­çš„æ ‡å‡†éƒ¨ç½²å•å…ƒæ˜¯ JAR æ–‡ä»¶ã€‚jar æ˜¯åŸºäº ZIP æ–‡ä»¶æ ¼å¼çš„å½’æ¡£æ–‡ä»¶ï¼Œå…è®¸å°†è®¸å¤šæ–‡ä»¶èšé›†æˆä¸€ä¸ªæ–‡ä»¶ã€‚

é€šå¸¸ï¼Œå­˜æ¡£ä¸­åŒ…å«çš„æ–‡ä»¶æ˜¯ç¼–è¯‘åçš„ Java ç±»å’Œå›¾åƒç­‰èµ„æºæ–‡ä»¶çš„ç»„åˆã€‚æ­¤å¤–ï¼Œåœ¨ [JAR å½’æ¡£æ–‡ä»¶](https://javarevisited.blogspot.com/2012/03/how-to-create-and-execute-jar-file-in.html)ä¸­æœ‰ä¸€ä¸ªå…ƒæ•°æ®çš„æ ‡å‡†ä½ç½®â€”â€”**META-INF**æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­å¯ä»¥åŒ…å«è®¸å¤šä¸åŒæ ¼å¼çš„æ–‡ä»¶ï¼Œè€Œ **MANIFESTã€‚MF** æ–‡ä»¶æ˜¯æœ€é‡è¦çš„æ–‡ä»¶ã€‚

JAR æ–‡ä»¶æä¾›å•ä¸ªåº“æˆ–åº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ†åŠŸèƒ½ã€‚å› æ­¤ï¼Œæ„å»º Java åº”ç”¨ç¨‹åºéœ€è¦ç»„åˆè®¸å¤š JAR æ–‡ä»¶ã€‚

ç„¶è€Œï¼ŒJava å¼€å‘å·¥å…·åŒ…( [JDK](https://javarevisited.blogspot.com/2011/12/jre-jvm-jdk-jit-in-java-programming.html) )åªæä¾›äº†éå¸¸åŸºæœ¬çš„ç®¡ç†å’Œç¼–å†™ jar çš„å·¥å…·ã€‚äº‹å®ä¸Šï¼Œè¿™äº›å·¥å…·å¤ªç®€å•äº†ï¼Œä»¥è‡³äºå¼€å‘äººå‘˜ç”¨â€œJAR Hellâ€è¿™ä¸ªæœ¯è¯­æ¥æè¿°ç®¡ç† JAR çš„é—®é¢˜ã€‚

JAR æ–‡ä»¶ä½œä¸ºéƒ¨ç½²å•å…ƒçš„æœ€å…³é”®é—®é¢˜å¦‚ä¸‹:

*   æ²¡æœ‰**å¯¹åº” JAR çš„è¿è¡Œæ—¶**æ¦‚å¿µï¼›å®ƒä»¬åªåœ¨**æ„å»ºæ—¶**å’Œ**éƒ¨ç½²æ—¶æœ‰æ„ä¹‰ã€‚**ä¸€æ—¦ [JVM](/javarevisited/7-best-courses-to-learn-jvm-garbage-collection-and-performance-tuning-for-experienced-java-331705180686?source=---------8------------------) è¿è¡Œï¼Œæ‰€æœ‰ jar çš„å†…å®¹éƒ½è¢«ç®€å•åœ°ä½œä¸ºä¸€ä¸ªå•ä¸€çš„å…¨å±€åˆ—è¡¨: **Classpathã€‚**
*   ä»–ä»¬æ²¡æœ‰æ ‡å‡†çš„å…ƒæ•°æ®æ¥è¡¨ç¤ºä¾èµ–å…³ç³»ã€‚
*   å®ƒä»¬æ²¡æœ‰ç‰ˆæœ¬æ§åˆ¶ï¼Œå› æ­¤ä¸èƒ½åŒæ—¶åŠ è½½å¤šä¸ª jarã€‚
*   jar ä¹‹é—´æ²¡æœ‰ä¿¡æ¯éšè—çš„æœºåˆ¶ã€‚

## ç±»åŠ è½½å’Œå…¨å±€ç±»è·¯å¾„

æœ¯è¯­ [**ç±»è·¯å¾„**](http://www.java67.com/2012/08/what-is-path-and-classpath-in-java-difference.html) æ¥è‡ªå‘½ä»¤è¡Œå‚æ•°ï¼Œå½“ä»å‘½ä»¤ shell è¿è¡Œç®€å•çš„ Java åº”ç”¨ç¨‹åºæ—¶ï¼Œå¯ä»¥å°†è¯¥å‚æ•°ä¼ é€’ç»™`java`å‘½ä»¤ã€‚å®ƒæŒ‡å®šäº†ä¸€ä¸ªåŒ…å«ç¼–è¯‘åçš„ Java ç±»æ–‡ä»¶çš„ JAR æ–‡ä»¶å’Œç›®å½•çš„**åˆ—è¡¨ã€‚**

ä¾‹å¦‚ï¼Œä¸‹é¢çš„å‘½ä»¤å¯åŠ¨ä¸€ä¸ª Java åº”ç”¨ç¨‹åºï¼Œåœ¨ç±»è·¯å¾„ä¸Šæœ‰`log4j.jar`å’Œ`classes`ç›®å½•ã€‚UNIX/macOS X å‘½ä»¤æ˜¯:

`java -classpath log4j.jar:classes org.example.HelloWorld`

æœ€åä¸€ä¸ªå‚æ•°æ˜¯è¦æ‰§è¡Œçš„**ä¸»**ç±»çš„åç§°ï¼ŒæŒ‰ç…§æˆ‘ä»¬çš„å‡è®¾ï¼Œå®ƒè¢«ç¼–è¯‘åˆ°`classes`ç›®å½•ä¸­çš„`org/example/HelloWorld.class`ã€‚

JVM çš„èŒè´£æ˜¯åŠ è½½è¯¥ç±»æ–‡ä»¶ä¸­çš„**å­—èŠ‚**å¹¶å°†å®ƒä»¬è½¬æ¢æˆä¸€ä¸ª`Class`å¯¹è±¡ï¼Œç„¶åå®ƒå¯ä»¥æ‰§è¡Œ`[static main](http://javarevisited.blogspot.sg/2011/12/main-public-static-java-void-method-why.html#axzz4uMEUqg5v)`æ–¹æ³•ã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™åœ¨æ ‡å‡† JRE ä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

Java ä¸­åŠ è½½ç±»çš„ç±»æ˜¯`[java.lang.ClassLoader](https://javarevisited.blogspot.com/2021/05/java-classloader-interview.html)`ï¼Œå®ƒæœ‰ä¸¤ä¸ªèŒè´£ã€‚

*   æ ¹æ®é€»è¾‘ç±»åæŸ¥æ‰¾ç±»ï¼Œå³ç£ç›˜ä¸Šçš„ç‰©ç†å­—èŠ‚ã€‚
*   å°†è¿™äº›ç‰©ç†å­—èŠ‚è½¬æ¢æˆå†…å­˜ä¸­çš„ä¸€ä¸ª`Class`å¯¹è±¡ã€‚

å½“æˆ‘ä»¬è¿è¡Œå‘½ä»¤`java -classpath log4j.jar:classes org.example.HelloWorld`æ—¶ï¼ŒJRE ç¡®å®šå®ƒéœ€è¦åŠ è½½ç±»`org.example.HelloWorld`ï¼Œå› ä¸ºå®ƒæ˜¯`main`ç±»ï¼Œå®ƒä½¿ç”¨ä¸€ä¸ªåä¸º*åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨çš„ç‰¹æ®Š`ClassLoader`ã€‚*åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯è¯·æ±‚å®ƒçš„çˆ¶ç±»åŠ è½½ç±»ã€‚

è¿™ä¸ªè¿‡ç¨‹æ˜¯ Java ç±»åŠ è½½ä¸­çš„ä¸€ä¸ªå…³é”®ç‰¹æ€§ï¼Œç§°ä¸º**çˆ¶ç±»ä¼˜å…ˆå§”æ‰˜ã€‚ä¸ºäº†ç®€å•åœ°è¯´æ˜æ•´ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸‹é¢ç»™å‡ºçš„æµç¨‹å›¾ã€‚**

[![](img/d858a8c5486f7535ef452eaa3b8b5230.png)](https://javarevisited.blogspot.com/2012/12/how-classloader-works-in-java.html#axzz6uFgb20Y4)

å›¾ JRE ç±»åŠ è½½

å›¾ä¸­æœ‰ä¸‰ä¸ªç±»åŠ è½½å™¨ï¼Œbootstrap ç±»åŠ è½½å™¨åœ¨æ ‘çš„é¡¶éƒ¨ï¼Œå®ƒè´Ÿè´£**åŠ è½½åŸºç¡€ JRE åº“ä¸­çš„æ‰€æœ‰ç±»** ( `java`ã€`javafx`ç­‰ã€‚)

æ¥ä¸‹æ¥ï¼Œæ‰©å±•ç±»åŠ è½½å™¨ä»**æ‰©å±•åº“åŠ è½½ï¼Œè¿™äº›åº“ä¸æ˜¯åŸºç¡€ JRE çš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯ç”±ç®¡ç†å‘˜å®‰è£…åˆ° JRE çš„** `**libext**` **ç›®å½•ä¸­ã€‚**æœ€åæ˜¯åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼ŒåŠ è½½ [**ç±»è·¯å¾„**](https://javarevisited.blogspot.com/2011/01/how-classpath-work-in-java.html#axzz6uq12fuKh) ã€‚

1.  JRE è¦æ±‚åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨åŠ è½½ä¸€ä¸ªç±»
2.  åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨è¦æ±‚æ‰©å±•ç±»åŠ è½½å™¨åŠ è½½ç±»ã€‚
3.  æ‰©å±•ç±»è£…å…¥å™¨è¦æ±‚å¼•å¯¼ç±»è£…å…¥å™¨è£…å…¥ç±»ã€‚
4.  å¼•å¯¼ç±»è£…å…¥å™¨æ‰¾ä¸åˆ°ç±»ï¼Œæ‰€ä»¥æ‰©å±•ç±»è£…å…¥å™¨è¯•å›¾æ‰¾åˆ°å®ƒã€‚
5.  æ‰©å±•ç±»åŠ è½½å™¨æ‰¾ä¸åˆ°ç±»ï¼Œåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨è¯•å›¾æ‰¾åˆ°å®ƒï¼Œé¦–å…ˆåœ¨`log4j.jar`ä¸­æŸ¥æ‰¾
6.  è¯¥ç±»ä¸åœ¨`log4j.jar`ä¸­ï¼Œå› æ­¤ç±»åŠ è½½å™¨åœ¨`classes`ç›®å½•ä¸­æŸ¥æ‰¾ã€‚
7.  å¦‚æœæ‰¾åˆ°å¹¶åŠ è½½äº†è¯¥ç±»ï¼Œå®ƒå°†ä»ç¬¬ 1 æ­¥å¼€å§‹å†æ¬¡åŠ è½½å…¶ä»–ç±»ã€‚å¦åˆ™ï¼Œå®ƒå°†ç»™å‡ºå¸¸è§çš„`ClassNotFoundException.`

## å†²çªç±»

Java ä¸­çš„[åŠ è½½ç±»åœ¨å¤§å¤šæ•°æ—¶å€™éƒ½èƒ½é¡ºåˆ©è¿è¡Œï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªåŒ…å«æ—§ç‰ˆæœ¬`HelloWorld`çš„è¿‡æ—¶ JARï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿè®©æˆ‘ä»¬ç§°è¿™ä¸ª JAR æ–‡ä»¶ä¸º`obsolete.jar`](https://javarevisited.blogspot.com/2012/07/when-class-loading-initialization-java-example.html#axzz6ucXRVFjY)

`java -classpath obsolete.jar:log4j.jar:classes org.example.HelloWorld`

ç”±äºåœ¨ç±»è·¯å¾„ä¸­ï¼Œ`obsolete.jar`å‡ºç°åœ¨`classes`ä¹‹å‰ï¼Œå¹¶ä¸”ç”±äº*åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨*åœ¨æ‰¾åˆ°åŒ¹é…é¡¹æ—¶ä¼šå°½å¿«åœæ­¢ï¼Œå› æ­¤è¯¥å‘½ä»¤å°†å§‹ç»ˆå…·æœ‰ä¸ä½¿ç”¨æ—§ç‰ˆæœ¬çš„`HelloWorld`ç›¸åŒçš„å½±å“ï¼Œå¹¶ä¸”`classes`ç›®å½•å°†**æ°¸è¿œä¸ä¼š**è¢«ä½¿ç”¨ã€‚

## ç¼ºä¹æ˜ç¡®çš„ä¾èµ–å…³ç³»

è™½ç„¶æœ‰ä¸€äº›**ç‹¬ç«‹çš„** JAR æ–‡ä»¶ä¸ä¾èµ–äºå…¶ä»– JAR æ–‡ä»¶ï¼Œä½†æ˜¯å¤§å¤šæ•° JAR æ–‡ä»¶ä¾èµ–äºå…¶ä»– JAR æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰æ­£ç¡®çš„æ–‡æ¡£æ¥è¯´æ˜å¦‚ä½•ä½¿ç”¨è¿™äº› JAR æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™äº›åŠŸèƒ½å°†æ˜¯æœ‰å®³çš„ã€‚

## **ç¼ºå°‘ç‰ˆæœ¬ä¿¡æ¯**

ä¸–ç•Œä¸ä¼šé™æ­¢ä¸åŠ¨ï¼Œå›¾ä¹¦é¦†ä¹Ÿä¸ä¼šã€‚ä»–ä»¬ä¸€ç›´åœ¨æ›´æ–°å’Œè·å¾—æ–°çš„ç‰ˆæœ¬ã€‚å› æ­¤ï¼ŒæŒ‡å‡ºä¾èµ–é¡¹æˆ–åº“æ˜¯ä¸å¤Ÿçš„ã€‚æˆ‘ä»¬éœ€è¦çŸ¥é“æˆ‘ä»¬éœ€è¦çš„ç¡®åˆ‡çš„*ç‰ˆæœ¬*ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œæ–‡æ¡£å¸®åŠ©æˆ‘ä»¬ä¸é™·å…¥é‚£äº›ç‰ˆæœ¬é™·é˜±ã€‚ä½†æœ‰æ—¶æˆ‘ä»¬ä¼šé‡åˆ°ç±»ä¼¼ä¸‹é¢è¿™ä¸ªä¾‹å­çš„é—®é¢˜:

å‡è®¾æœ‰ä¸‰ä¸ª JAR æ–‡ä»¶ï¼ŒA.jarã€B.jar å’Œ C.jarã€‚A.jar éœ€è¦ 1.1 ç‰ˆæœ¬çš„ C.jarï¼ŒB.jar éœ€è¦ 1.2 ç‰ˆæœ¬çš„ c . JARã€‚æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºéœ€è¦ a . JAR å’Œ B.jarã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºç±»è·¯å¾„åªé€‰æ‹©äº† C.jar çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°ä¸ A.jar æˆ– B.jar çš„ä¾èµ–é—®é¢˜ã€‚å› æ­¤ï¼Œå¾ˆæ˜æ˜¾ï¼Œå¦‚æœä¸é‡å†™ä¸ A.jar æˆ– B.jar ç›¸å…³çš„æºä»£ç ï¼Œä¼ ç»Ÿçš„ Java æ— æ³•è§£å†³è¿™äº›é—®é¢˜ã€‚

## ç¼ºä¹è·¨ç½çš„ä¿¡æ¯éšè—

æ‰€æœ‰é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€éƒ½æä¾›äº†ä¸åŒçš„éšè—ä¿¡æ¯çš„æ–¹å¼ã€‚åœ¨ Java ä¸­ï¼Œ*å°è£…*ä¾èµ–äºæˆ‘ä»¬ä½¿ç”¨çš„*è®¿é—®ä¿®é¥°ç¬¦*ã€‚

*   `[public](https://javarevisited.blogspot.com/2012/10/difference-between-private-protected-public-package-access-java.html#axzz6j8KhisSX)` [](https://javarevisited.blogspot.com/2012/10/difference-between-private-protected-public-package-access-java.html#axzz6j8KhisSX)â€”æ¯ä¸ªäººéƒ½å¯ä»¥çœ‹åˆ°æˆå‘˜ã€‚
*   `[protected](http://www.java67.com/2012/12/what-is-public-private-protected-package-default-private-access-modifier-java.html)` [](http://www.java67.com/2012/12/what-is-public-private-protected-package-default-private-access-modifier-java.html)â€”æˆå‘˜å¯¹åŒä¸€åŒ…ä¸­çš„å­ç±»å’Œå…¶ä»–ç±»å¯è§ã€‚
*   `private` â€”æˆå‘˜ä»…åœ¨åŒä¸€ç±»ä¸­å¯è§
*   `default` â€”æœªå£°æ˜ä¸Šè¿°ä¸‰ä¸ªè®¿é—®çº§åˆ«çš„æˆå‘˜ã€‚å®ƒä»¬åªå¯¹åŒä¸€ä¸ªåŒ…å†…çš„å…¶ä»–ç±»å¯è§ï¼Œå¯¹åŒ…å¤–çš„ç±»ä¸å¯è§ã€‚

å› æ­¤ï¼ŒJAR ä¹‹å¤–çš„å®¢æˆ·æœºå¯ä»¥è®¿é—®æ‰€æœ‰è¿™äº›å£°æ˜ä¸ºå…¬å…±çš„ç±»ã€‚å› æ­¤ï¼Œæ•´ä¸ª JAR åŸºæœ¬ä¸Šæ˜¯å…¬å…± APIï¼Œç”šè‡³æ˜¯æˆ‘ä»¬å¸Œæœ›éšè—çš„éƒ¨åˆ†ã€‚

**æ‰€ä»¥ï¼Œjar ä¸æ˜¯æ¨¡å—ã€‚å°½ç®¡å®ƒä»¬å¯ä»¥è¢«ç§»åŠ¨ï¼Œä½†æ˜¯å®ƒä»¬å…·æœ‰ç´§å¯†è€¦åˆçš„ä½å†…èšåŠ›çš„ ZIP å­˜æ¡£ã€‚**

ä½†è¿™å¹¶ä¸æ˜¯è¯´æˆ‘ä»¬ä¸ä½¿ç”¨ jar å°±ä¸èƒ½æ„å»ºæ¨¡å—åŒ–ç³»ç»Ÿã€‚æ¨¡å—åŒ–ç³»ç»Ÿçš„å®ç°éœ€è¦ jarï¼Œä½†å®ƒä»¬ä¸æ˜¯æ¨¡å—ã€‚

# ğŸš€J2EE çº§è£…è½½

Java 2 ä¼ä¸šç‰ˆ(J2EE)è§„èŒƒä¸º**åˆ†å¸ƒå¼å¤šå±‚è®¡ç®—å®šä¹‰äº†ä¸€ä¸ªå¹³å°ã€‚**J2EE æ¶æ„çš„å…³é”®ç‰¹æ€§æ˜¯*åº”ç”¨æœåŠ¡å™¨*ï¼Œå®ƒæ‰˜ç®¡å¤šä¸ªåº”ç”¨ç»„ä»¶å¹¶ä¸ºå®ƒä»¬æä¾›ä¼ä¸šçº§æœåŠ¡ã€‚

è¿™äº›éœ€æ±‚æš—ç¤ºäº†å›¾-1 ä¸­ç®€å•çš„ç±»åŠ è½½å›¾æ˜¯ä¸å¤Ÿçš„ã€‚å› ä¸ºæœ‰äº†**å•ä¸€çš„å¹³é¢ç±»è·¯å¾„ï¼Œæ¥è‡ªä¸€ä¸ªåº”ç”¨ç¨‹åºçš„ç±»å¾ˆå®¹æ˜“å¹²æ‰°å…¶ä»–åº”ç”¨ç¨‹åºã€‚**å› æ­¤ï¼ŒJ2EE ä½¿ç”¨äº†æ›´é«˜çº§çš„ç±»åŠ è½½å±‚æ¬¡ç»“æ„ï¼Œè¿™åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªæ ‘ï¼Œæ¯ä¸ªéƒ¨ç½²çš„åº”ç”¨éƒ½æœ‰ä¸€ä¸ªåˆ†æ”¯ã€‚

J2EE åº”ç”¨ç¨‹åºè¢«éƒ¨ç½²ä¸º**ä¼ä¸šå½’æ¡£(EAR)** æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯åŒ…å«å…ƒæ•°æ®æ–‡ä»¶â€” `application.xml`ä»¥åŠä¸€ä¸ªæˆ–å¤šä¸ªä»¥ä¸‹æ–‡ä»¶çš„ ZIP æ–‡ä»¶:

*   æ™®é€š Java åº“ JAR æ–‡ä»¶
*   åŒ…å«(ä¼ä¸š Java bean)EJB åº”ç”¨ç¨‹åºçš„ JAR æ–‡ä»¶(EJB-JARs)
*   Web ARchive (WAR)æ–‡ä»¶ï¼ŒåŒ…å«å®ç° Web åŠŸèƒ½çš„ç±»ï¼Œå¦‚ servlets å’Œ JSPã€‚

ä½†æ˜¯è¿™ç§æ¶æ„ä¹Ÿæœ‰é—®é¢˜ï¼Œä¸Šå±‚ç±»åŠ è½½å™¨(è€Œä¸æ˜¯åˆ†æ”¯ä¸­çš„åŠ è½½å™¨)ä¹‹é—´çš„ç±»å…±äº«ä¼šå¯¼è‡´ç‰ˆæœ¬å†²çªã€‚

[![](img/1db05bd2b2b1043f4f898c5f0d9ef15b.png)](https://javarevisited.blogspot.com/2018/09/top-5-java-ee-courses-to-learn-online.html)

å›¾ 2â€”â€”J2EE ç­‰çº§è½½è·

# ğŸš€OSGi

![](img/ff193f5dee8eb561e58fc19a40c3526b.png)

OSGi æ˜¯ Java çš„æ¨¡å—ç³»ç»Ÿã€‚å®ƒå®šä¹‰äº†ä¸€ç§åˆ›å»ºçœŸæ­£æ¨¡å—çš„æ–¹æ³•ï¼Œä»¥åŠè¿™äº›æ¨¡å—åœ¨è¿è¡Œæ—¶äº¤äº’çš„æ–¹æ³•ã€‚

OSGi çš„ä¸»è¦æ€æƒ³å¾ˆç®€å•ã€‚ä¼ ç»Ÿ Java ä¸­å¤§å¤šæ•°é—®é¢˜çš„æ ¹æºæ˜¯å…¨å±€çš„ã€æ‰å¹³çš„ç±»è·¯å¾„ã€‚å› æ­¤ï¼ŒOSGi é‡‡å–äº†ä¸åŒçš„æ–¹æ³•:**æ¯ä¸ªæ¨¡å—éƒ½æœ‰è‡ªå·±çš„ç±»è·¯å¾„ï¼Œä¸æ‰€æœ‰å…¶ä»–æ¨¡å—çš„ç±»è·¯å¾„ç›¸åˆ†ç¦»ã€‚**

è¿™å‡ ä¹æ¶ˆé™¤äº†æˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„æ‰€æœ‰é—®é¢˜ã€‚ä½†æ˜¯è¿™å¹¶æ²¡æœ‰ç»“æŸï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦æˆ‘ä»¬çš„æ¨¡å—ä¸€èµ·å·¥ä½œï¼Œè¿™æ„å‘³ç€å…±äº«ç±»ã€‚OSGi ä½¿ç”¨**æ˜¾å¼å¯¼å…¥å’Œå¯¼å‡ºæœºåˆ¶ï¼Œå¯¹å¦‚ä½•è·¨æ¨¡å—å…±äº«ç±»æœ‰éå¸¸å…·ä½“å’Œå®šä¹‰è‰¯å¥½çš„è§„åˆ™ã€‚**

é‚£ä¹ˆï¼ŒOSGi æ¨¡å—çœ‹èµ·æ¥åƒä»€ä¹ˆï¼Ÿç¬¬ä¸€ï¼Œæˆ‘ä»¬ä¸å«å®ƒæ¨¡å—ï¼Œæˆ‘ä»¬åœ¨ OSGi å«å®ƒ ***æ†ç»‘*** ã€‚äº‹å®ä¸Šï¼Œå®ƒåªæ˜¯ä¸€ä¸ª JAR æ–‡ä»¶ï¼ä½†æ˜¯å®ƒåŒ…å«å°†å®ƒæå‡ä¸ºä¸€ä¸ªåŒ…çš„å…ƒæ•°æ®ã€‚å…ƒæ•°æ®åŒ…æ‹¬:

*   ç®¡æŸçš„*åç§°*ã€‚
*   æ†ç»‘åŒ…çš„*ç‰ˆæœ¬*ã€‚
*   *è¿›å£*å’Œ*å‡ºå£çš„æ¸…å•ã€‚*
*   å¯é€‰åœ°ï¼Œå…³äºåŒ…éœ€è¦è¿è¡Œçš„æœ€ä½ Java ç‰ˆæœ¬çš„ä¿¡æ¯ã€‚
*   å„ç§äººç±»å¯è¯»ä¿¡æ¯ï¼Œå¦‚ä¾›åº”å•†ã€ç‰ˆæƒå£°æ˜ã€è”ç³»åœ°å€ç­‰ã€‚

è¿™äº›å…ƒæ•°æ®æ”¾åœ¨ JAR æ–‡ä»¶ä¸­ä¸€ä¸ªåä¸º **MANIFEST çš„ç‰¹æ®Šæ–‡ä»¶ä¸­ã€‚MF** ï¼Œå®ƒæ˜¯æ‰€æœ‰æ ‡å‡† JAR æ–‡ä»¶çš„ä¸€éƒ¨åˆ†ï¼Œæ­£æ˜¯ä¸ºäº†è¿™ä¸ªç›®çš„ã€‚ç”±äº*åŒ…*æ˜¯ JAR æ–‡ä»¶ï¼Œå®ƒä»¬å¯ä»¥åœ¨ OSGi è¿è¡Œæ—¶ä¹‹å¤–ä½¿ç”¨ã€‚

## æ ‘ä¸å›¾

åœ¨ OSGiï¼Œå®ƒä¸ºæ¯ä¸ª*åŒ…æä¾›äº†ä¸€ä¸ªå•ç‹¬çš„ç±»è·¯å¾„ã€‚è¿™ä»…ä»…æ„å‘³ç€æˆ‘ä»¬ä¸ºæ¯ä¸ªåŒ…æä¾›äº†ä¸€ä¸ªç±»åŠ è½½å™¨ï¼Œå¹¶ä¸”ç±»åŠ è½½å™¨å¯ä»¥çœ‹åˆ°åŒ…çš„ JAR æ–‡ä»¶ä¸­çš„ç±»å’Œèµ„æºã€‚ç„¶è€Œï¼Œä¸ºäº†è®©åŒ…ä¸€èµ·å·¥ä½œï¼Œåº”è¯¥æœ‰ä¸€ç§æ–¹æ³•æ¥åŠ è½½ä»ä¸€ä¸ªåŒ…çš„ç±»åŠ è½½å™¨å§”æ‰˜ç»™å¦ä¸€ä¸ªåŒ…çš„ç±»ã€‚*

åœ¨å›¾ 1 å’Œå›¾ 2 çš„*ä¸­ï¼Œç±»åŠ è½½å™¨è¢«å®‰æ’åœ¨ä¸€ä¸ªå±‚æ¬¡æ ‘ä¸­ï¼Œå¹¶ä¸”ç±»åŠ è½½è¯·æ±‚æ€»æ˜¯è¢«å‘ä¸Šå§”æ‰˜ç»™æ¯ä¸ªç±»åŠ è½½å™¨çš„çˆ¶ç±»ï¼Œè€Œè¿™ä¸¤æ£µæ ‘æ²¡æœ‰åŠæ³•è¿›è¡Œæ°´å¹³å§”æ‰˜ã€‚è¦ä½¿ä¸€ä¸ªåº“å¯¹å¤šä¸ªåˆ†æ”¯å¯ç”¨ï¼Œå®ƒå¿…é¡»è¢«æå‡åˆ°è¿™äº›åˆ†æ”¯çš„å…±åŒç¥–å…ˆä¸­ã€‚*

ä½†æ˜¯åœ¨ OSGiï¼Œå®ƒæ˜¯é€šè¿‡ä½¿ç”¨ä¸€ä¸ª*å›¾æ¥è§£å†³çš„ã€‚ä¸¤ä¸ªæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ä¸æ˜¯å±‚æ¬¡å…³ç³»:æ²¡æœ‰çˆ¶ã€å­å§”æ‰˜ï¼Œåªæœ‰æä¾›è€…å’Œç”¨æˆ·çš„ç½‘ç»œã€‚åŸºäºåŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç±»åŠ è½½è¯·æ±‚è¢«ä»ä¸€ä¸ªåŒ…å§”æ‰˜ç»™å¦ä¸€ä¸ªåŒ…ã€‚*

![](img/5311bc70db4782c7eb841fc97a8e657c.png)

å›¾ 3 â€” OSGi ç±»åŠ è½½å™¨å›¾è¡¨

åŒ…ä¹‹é—´çš„é“¾æ¥åŸºäºå¯¼å…¥å’Œå¯¼å‡ºçš„åŒ…ã€‚

ä¾‹å¦‚ï¼Œå‡è®¾*å›¾ 3* ä¸­çš„ bundle B åŒ…å«ä¸€ä¸ªåä¸º`org.foo`çš„åŒ…ï¼Œå®ƒå¯ä»¥é€šè¿‡åœ¨å…¶ **MANIFEST.MF.** çš„ exports éƒ¨åˆ†å£°æ˜å®ƒæ¥é€‰æ‹©å¯¼å‡ºè¯¥åŒ…ï¼Œç„¶å Bundle A é€šè¿‡åœ¨å…¶ **MANIFEST.MF.** çš„ imports éƒ¨åˆ†å£°æ˜å®ƒæ¥é€‰æ‹©å¯¼å…¥`org.foo`ã€‚ç°åœ¨ï¼ŒOSGi æ¡†æ¶ä¼šå°†å¯¼å…¥ä¸åŒ¹é…çš„å¯¼å‡ºç›¸åŒ¹é…:è¿™è¢«ç§°ä¸º**è§£æ**è¿‡ç¨‹ã€‚ä¸€æ—¦å¯¼å…¥ä¸å¯¼å‡ºåŒ¹é…ï¼Œæ‰€æ¶‰åŠçš„åŒ…å°±è¢«**è¿æ¥åœ¨ä¸€èµ·**ç”¨äºç‰¹å®šçš„åŒ…åã€‚è¿™æ„å‘³ç€å½“åŒ… A ä¸­çš„ç±»åŠ è½½è¯·æ±‚å‘ç”Ÿåœ¨`org.foo`åŒ…ä¸­çš„ä»»ä½•ç±»ä¸Šæ—¶ï¼Œè¯¥è¯·æ±‚å°†ç«‹å³è¢«å§”æ‰˜ç»™åŒ… b çš„ç±»åŠ è½½å™¨

é‚£ä¹ˆï¼Œå¦‚æœ resolution å¤±è´¥äº†ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒåŒ… A å°†æ— æ³•è§£æï¼Œä¹Ÿæ— æ³•ä½¿ç”¨ã€‚å‡è®¾æˆ‘ä»¬çš„ä¸¤ä¸ªåŒ… A å’Œ B æ„é€ æ­£ç¡®ï¼Œæˆ‘ä»¬åœ¨åŸºäº OSGi çš„åº”ç”¨ç¨‹åºä¸­ä¸ä¼šçœ‹åˆ°ä»»ä½•ç±»ä¼¼äº`ClassNotFoundException`æˆ–`NoClassDefFoundError`çš„é”™è¯¯ã€‚äº‹å®ä¸Šï¼Œå®ƒä¼šå‘Šè¯‰åˆåˆ›ä¼ä¸šæœ‰äº›ä¸å¯¹åŠ²ã€‚å› æ­¤ï¼Œå½“ä½¿ç”¨ OSGi æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¹‹å‰çŸ¥é“ä¸€ç»„åŒ…*ä¸­çš„è§£æé”™è¯¯ï¼Œæˆ‘ä»¬ä»ä¸æ‰§è¡Œåº”ç”¨ç¨‹åºã€‚*

## ç‰ˆæœ¬æ§åˆ¶å’Œå¹¶è¡Œç‰ˆæœ¬

OSGi ä¸ä»…ä»…æä¾›åŸºäºåŒ…åçš„ä¾èµ–ï¼Œå®ƒè¿˜æä¾›åŒ…çš„ç‰ˆæœ¬æ§åˆ¶ã€‚è¿™å…è®¸å¤„ç†æˆ‘ä»¬ä½¿ç”¨çš„åº“çš„å‘å¸ƒç‰ˆæœ¬ä¸­çš„å˜åŒ–ã€‚

**åŒ…çš„å¯¼å‡º**ç”¨**ç‰ˆæœ¬å±æ€§å£°æ˜ï¼Œ**ä½†æ˜¯**å¯¼å…¥**å£°æ˜**ç‰ˆæœ¬*èŒƒå›´ã€‚*** è¿™å…è®¸æˆ‘ä»¬æœ‰ä¸€ä¸ªä¾èµ–äºä¾‹å¦‚ä»ç‰ˆæœ¬ 1.1.0 åˆ°ç‰ˆæœ¬ 2.1.0 çš„åº“çš„åŒ…ã€‚å¦‚æœåœ¨è¯¥èŒƒå›´å†…æ²¡æœ‰ä»»ä½•åŒ…å¯¼å‡ºè¯¥åŒ…çš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆè¯¥åŒ…å°†æ— æ³•è§£æï¼Œæˆ‘ä»¬å°†æ”¶åˆ°ä¸€æ¡æœ‰ç”¨çš„é”™è¯¯æ¶ˆæ¯ï¼Œå‘Šè¯‰æˆ‘ä»¬å‘ç”Ÿäº†ä»€ä¹ˆé—®é¢˜ã€‚

æˆ‘ä»¬ç”šè‡³å¯ä»¥åœ¨åŒä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­åŒæ—¶æ‹¥æœ‰åŒä¸€ä¸ªåº“çš„ä¸åŒç‰ˆæœ¬ã€‚

# ğŸš€OSGi å»ºç­‘

OSGi å¹³å°ç”±ä¸¤éƒ¨åˆ†ç»„æˆ: **OSGi æ¡†æ¶**å’Œ **OSGi æ ‡å‡†æœåŠ¡ã€‚**

## OSGi æ¡†æ¶

å½“æ‚¨åˆ›å»ºåŸºäº OSGi çš„åº”ç”¨ç¨‹åºæ—¶ï¼ŒOSGi æ¡†æ¶èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚åœ¨ OSGi è§„èŒƒä¸­å®šä¹‰äº†ä¸‰ä¸ªæ¦‚å¿µå±‚ã€‚

*   **æ¨¡å—å±‚â€”** ä¸æ‰“åŒ…å’Œå…±äº«ä»£ç æœ‰å…³
*   **ç”Ÿå‘½å‘¨æœŸå±‚â€”** è´Ÿè´£æä¾›æ‰§è¡Œæ—¶æ¨¡å—ç®¡ç†å’Œå¯¹åº•å±‚ OSGi æ¡†æ¶çš„è®¿é—®
*   **æœåŠ¡å±‚â€”** å…³æ³¨æ¨¡å—ä¹‹é—´çš„äº¤äº’å’Œé€šä¿¡ï¼Œç‰¹åˆ«æ˜¯æ¨¡å—ä¸­åŒ…å«çš„ç»„ä»¶ã€‚

## OSGi æ ‡å‡†æœåŠ¡å…¬å¸

æ ‡å‡†æœåŠ¡ä¸ºå¸¸è§ä»»åŠ¡(å¦‚æ—¥å¿—è®°å½•)å®šä¹‰äº†å¯é‡ç”¨çš„ APIã€‚

## OSGi å®æ–½

ç°åœ¨æœ‰å‡ ä¸ªç‹¬ç«‹å®ç°çš„ OSGi æ¡†æ¶ï¼ŒåŒ…æ‹¬å››ä¸ªå¼€æºè½¯ä»¶ã€‚

*   æ˜¥åˆ†
*   Knopflerfish
*   è²åŠ›å…‹æ–¯(ç”·å­å)
*   çœ‹é—¨äºº

# ğŸš€OSGi çš„ç¬¬ä¸€æ­¥

## OSGi å¼€å‘å·¥å…·

ç†è®ºä¸Šï¼Œå½“æ„å»º OSGi åŒ…æ—¶ï¼Œé™¤äº†æ ‡å‡†çš„ Java å·¥å…·ä¹‹å¤–ï¼Œä¸éœ€è¦ä»»ä½•é¢å¤–çš„å·¥å…·:ç”¨äº Java æºä»£ç ç¼–è¯‘çš„`javac`ï¼Œç”¨äºæ‰“åŒ…çš„`jar`ï¼Œä»¥åŠç”¨äºåˆ›å»º**æ¸…å•çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚MF** æ–‡ä»¶ã€‚

ç„¶è€Œï¼Œä½¿ç”¨è¿™äº›åŸºæœ¬å·¥å…·å¾ˆè´¹åŠ›ï¼Œå› ä¸ºå®ƒä»¬éœ€è¦å¤§é‡çš„å·¥ä½œã€‚å› æ­¤ï¼Œåœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨åƒ *Ant* æˆ– *Mavenã€*è¿™æ ·çš„æ„å»ºå·¥å…·å’Œåƒ *Eclipseã€NetBeansã€*æˆ– *IntelliJ è¿™æ ·çš„ ideã€‚*

åœ¨è¿™ä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Eclipse IDEã€‚ä½†æ˜¯åœ¨ç¨åçš„é˜¶æ®µï¼Œæˆ‘ä»¬å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨ IntelliJ æ„å»ºä¸€ä¸ª OSGi é¡¹ç›®ã€‚

## è·å¾—ä¸€ä¸ªæ¡†æ¶

æ­£å¦‚æˆ‘ä»¬ä¹‹å‰æåˆ°çš„ï¼Œæœ‰å››ä¸ªå¼€æº OSGi å®ç°â€”â€”Equinoxã€Knopflerfishã€Felix å’Œ Conciergeã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¸»è¦ä¸*æ˜¥åˆ†ç‚¹*ä¸€èµ·å·¥ä½œã€‚ä¸‹é¢ç»™å‡ºäº†ä¸‹è½½é“¾æ¥:

[](http://download.eclipse.org/equinox) [## Equinox ä¸‹è½½ Eclipse åŸºé‡‘ä¼š

### Eclipse åŸºé‡‘ä¼šâ€”â€”å…¨çƒç¤¾åŒºã€Eclipse IDEã€Jakarta EE å’Œè¶…è¿‡ 375 ä¸ªå¼€æºé¡¹ç›®çš„æ‰€åœ¨åœ°â€¦

download.eclipse.org](http://download.eclipse.org/equinox) 

ä»ä¸‹è½½é¡µé¢ä¸‹è½½æœ€æ–°çš„ SDKï¼Œè§£å‹åˆ°ç±»ä¼¼`equinox-SDK`çš„æ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬å°†è¿™ä¸ªé¡¶çº§ç›®å½•ç§°ä¸º`EQUINOX_HOME`ã€‚è§£å‹ç¼©åï¼Œæˆ‘ä»¬å°†æœ‰ä¸€ä¸ªåä¸º`plugins`çš„ç›®å½•ï¼Œåœ¨é‚£é‡Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æ‰€æœ‰å®ç° Equinox åŠå…¶æ”¯æŒåŒ…çš„ jarã€‚åœ¨ Eclipse ä¸­ï¼Œåº•å±‚è¿è¡Œæ—¶ç¯å¢ƒä¸­æœ‰ Equinox æ¡†æ¶ã€‚

## Eclipse ä¸­çš„é¡¹ç›®ğŸŒ“

æ‰“å¼€ Eclipse IDEï¼Œè¿›å…¥`New` â†’ `Project` â†’ `Plug-in Project`

[![](img/f3645729037fd39225d178b0e4f95aca.png)](https://javarevisited.blogspot.com/2020/05/top-5-courses-to-learn-eclipse-ide-for-java-developers.html)

å›¾ 4 â€”è®¾ç½® eclipse é¡¹ç›®

ç»™å‡ºé¡¹ç›®åç§°`OSGi Tutorial`ï¼Œé€‰æ‹©`Equinox`ä½œä¸º OSGi æ¡†æ¶ã€‚

[![](img/2a75e238696b35638ca6792c1a233bb6.png)](https://javarevisited.blogspot.com/2019/05/10-free-websites-to-learn-git-online.html)

å›¾ 5 â€”è®¾ç½® eclipse é¡¹ç›®

ç„¶åç‚¹å‡»`Next >`ï¼Œé€‰æ‹©æ‰§è¡Œç¯å¢ƒã€‚ä¸ºæ­¤ï¼Œè¯·é€‰æ‹©æ‚¨å®‰è£…åˆ°è®¡ç®—æœºä¸­çš„ Java ç‰ˆæœ¬ã€‚å¹¶é€‰æ‹©*ç”Ÿæˆæ¿€æ´»å™¨*å¤é€‰æ¡†ã€‚ç„¶åç‚¹å‡»`Finish`

[![](img/f9c1d14f87ad8a45646d019c31da5128.png)](https://javarevisited.blogspot.com/2018/07/top-5-websites-to-learn-coding-in-java.html)

å›¾ 6 â€”è®¾ç½® eclipse é¡¹ç›®

[![](img/c1601039dd6bbde201a92d65b5cacf88.png)](https://javarevisited.blogspot.com/2015/10/133-java-interview-questions-answers-from-last-5-years.html)

å›¾ 7 â€”é¡¹ç›®æ¦‚è¿°

## ä½ å¥½ï¼Œä¸–ç•Œï¼

ä¸ºäº†ä¿æŒé•¿ä¹…ä»¥æ¥çš„ä¼ ç»Ÿï¼Œæˆ‘ä»¬åœ¨ OSGi çš„ç¬¬ä¸€ä¸ªèŠ‚ç›®å°†æ˜¯ç®€å•åœ°æ‰“å°â€œä½ å¥½ï¼Œä¸–ç•Œï¼â€åˆ°æ§åˆ¶å°ã€‚ä½†æ˜¯ï¼Œå¤§å¤šæ•°æ­¤ç±»ç¨‹åºåœ¨æ‰“å°é‚®ä»¶åä¼šç«‹å³é€€å‡ºã€‚ä½†æˆ‘ä»¬å°†å»¶ç»­è¿™ä¸€ä¼ ç»Ÿï¼Œä¸ä»…åœ¨å¯åŠ¨æ—¶æ‰“å°â€œä½ å¥½â€ï¼Œè€Œä¸”åœ¨å…³é—­æ—¶æ‰“å°â€œå†è§â€ã€‚

åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œè½¬åˆ°`src` â†’ `osgi_tutorial` â†’ `Activator.java`æ–‡ä»¶å¹¶å°†å…¶é‡å‘½åä¸º`HelloWorldActivator.java`ï¼Œç„¶åç”¨ä»¥ä¸‹ä»£ç ç‰‡æ®µæ›¿æ¢ä»£ç ã€‚

æ—¢ç„¶æˆ‘ä»¬å°†`Activator.java`æ›´æ”¹ä¸º`HelloWorldActivator.java`ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨**æ¸…å•ä¸­æ›´æ”¹å®ƒã€‚MF** æ–‡ä»¶ä¹Ÿæ˜¯ã€‚è½¬åˆ°**è´§å•ã€‚MF** æ–‡ä»¶å¹¶å°†`osgi_tutorial.Activator`æ”¹ä¸º`osgi_tutorial.HelloWorldActivator`

[![](img/0a312e9d57640cb1a482ca21fa07a4cf.png)](https://javarevisited.blogspot.com/2021/08/top-5-spring-data-jpa-courses-for-java.html)

å›¾ 8-æ›´æ”¹æ¸…å•ã€‚MF æ–‡ä»¶

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹**æ¸…å•ã€‚MF** æ–‡ä»¶ä¹Ÿä½¿ç”¨åº•éƒ¨é€‰é¡¹å¡çª—æ ¼ã€‚è‡ªä»åˆ¶é€ äº†**ä¹‹åã€‚MF** æ˜¯ OSGi é¡¹ç›®æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œæ›´å¥½åœ°äº†è§£æ‰€æœ‰ä¸**æ¸…å•ç›¸å…³çš„é€‰é¡¹ã€‚MF** æ–‡ä»¶ç¼–è¾‘ã€‚

![](img/ce9259bfb074b23f636867d6c3742370.png)

å›¾ 9-æ¸…å•ã€‚MF æ–‡ä»¶

ç°åœ¨ç‚¹å‡»å·¦ä¾§çª—æ ¼ä¸­çš„ *OSGi æ•™ç¨‹*å¹¶å³é”®ç‚¹å‡»`Run As` â†’ `OSGi Framework`

[![](img/84f7feea5774edee97f98f9d6c3be7db.png)](https://medium.com/javarevisited/12-advanced-spring-framework-courses-for-java-programmers-a273f6e4448c)

å›¾ 10 â€”è¿è¡Œ OSGi é¡¹ç›®

å½“ä½ è¿™æ ·åšçš„æ—¶å€™ï¼Œä½ ä¼šåœ¨æ§åˆ¶å°ä¸­å¾—åˆ°ä¸€ä¸²é”™è¯¯ä¿¡æ¯ï¼Œå°±åƒè¿™æ ·ã€‚

[![](img/a361f534d7f967b6ac9d0e04893f0873.png)](https://javarevisited.blogspot.com/2015/06/5-websites-to-learn-sql-online-for-free.html)

å›¾ 11 â€”æ§åˆ¶å°è¾“å‡º

ä¹‹åï¼Œæ£€æŸ¥æ‚¨æ˜¯å¦æ­£åœ¨ä½¿ç”¨`osgi`æ§åˆ¶å°ã€‚å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨`osgi`æ§åˆ¶å°ï¼Œæ‚¨ä¼šåœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°ç±»ä¼¼`osgi >`çš„å†…å®¹ã€‚é”®å…¥`ss`æŸ¥çœ‹é¡¹ç›®ä¸­è¿è¡Œçš„æ‰€æœ‰åŒ…ã€‚ä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„ idã€‚

![](img/dca9527e58abea6d05b36d01d36034bc.png)

å›¾ 12-æŸ¥çœ‹æ‰€æœ‰æŸçš„ ss

æ‚¨å¯ä»¥çœ‹åˆ° id ä¸º`2`çš„ out `OSGi_Tutotial_1.0.0.qualifier`ç°åœ¨æ‚¨å¯ä»¥é€šè¿‡é”®å…¥`stop 2`æ¥åœæ­¢å®ƒï¼Œå¹¶é€šè¿‡åœ¨`osgi`æ§åˆ¶å°ä¸­é”®å…¥`start 2`æ¥å†æ¬¡å¯åŠ¨å®ƒã€‚

[![](img/75f92a267f6f62d7b9ac817c57784822.png)](https://javarevisited.blogspot.com/2021/02/spring-security-interview-questions-answers-java.html)

å›¾ 13 â€”å¼€å§‹å’Œåœæ­¢é¡¹ç›®

æ­£å¦‚æ‚¨æ‰€æ³¨æ„åˆ°çš„ï¼Œè¿™ä¸ª`start`å’Œ`stop`ä¸æˆ‘ä»¬åœ¨`HelloWorldActivator.java`æ–‡ä»¶ä¸­ç¼–å†™çš„æ–¹æ³•ç›¸å…³ã€‚

## æ†ç»‘åŒ…ç”Ÿå‘½å‘¨æœŸ

æœ‰äººæåˆ° OSGi æ†ç»‘åŒ…æœ‰ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œä½†æ˜¯è¿™ä¸ªç”Ÿå‘½å‘¨æœŸåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

æˆ‘ä»¬çš„`OSGi_Tutorial`åŒ…ä»`install`å‘½ä»¤å¼€å§‹ï¼Œå¹¶è¿›å…¥`INSTALLED`çŠ¶æ€ã€‚ç„¶åéšç€`start`å‘½ä»¤ï¼Œå®ƒè½¬æ¢åˆ°`ACTIVE`çŠ¶æ€ã€‚è™½ç„¶æˆ‘ä»¬çœ‹ä¸åˆ°ä¸¤ç§çŠ¶æ€ä¹‹é—´çš„ç›´æ¥è”ç³»ï¼Œä½†æ˜¯ bundles åªæœ‰åœ¨`RESOLVED`çŠ¶æ€ä¸‹æ‰èƒ½å¯åŠ¨ã€‚ç„¶è€Œï¼Œå½“æˆ‘ä»¬è¯•å›¾å¯åŠ¨ä¸€ä¸ª`INSTALLED`åŒ…æ—¶ï¼Œæ¡†æ¶ä¼šåœ¨å¼€å§‹å¯åŠ¨å®ƒä¹‹å‰å…ˆå°è¯•è§£å†³å®ƒã€‚`RESOLVED`è¡¨ç¤ºæ»¡è¶³è¯¥åŒ…çš„çº¦æŸã€‚åœ¨è¢«è§£æåï¼Œå®ƒé€šè¿‡`STARTING`è¿›å…¥`ACTIVATE`çŠ¶æ€ã€‚`STARTING`çŠ¶æ€æ˜¯ä¸€ä¸ªç¬æ€ã€‚

å½“æ‰§è¡Œ`stop`å‘½ä»¤æ—¶ï¼ŒæŸè½¬å˜åˆ°`RESOLVED`çŠ¶æ€ï¼ŒåŒæ—¶ç»è¿‡ç¬æ€`STOPPING`

è¦è·å¾—æ›´å¤šå…³äºç”Ÿå‘½å‘¨æœŸçš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ä¸‹å›¾ã€‚

![](img/8f61b9e8208cd091ed7a0fe8c43f2914.png)

å›¾ 14 â€”æ†ç»‘åŒ…ç”Ÿå‘½å‘¨æœŸ

æˆ‘ä»¬çš„`HelloWorldActivator.java`æ–‡ä»¶ä¸­çš„`BundleContext`å…è®¸æˆ‘ä»¬åšå¤šä»¶äº‹æƒ…ï¼Œ

*   æŸ¥æ‰¾ç³»ç»ŸèŒƒå›´çš„é…ç½®ã€‚
*   é€šè¿‡ ID æ‰¾åˆ°å¦ä¸€ä¸ªå·²å®‰è£…çš„åŒ…ã€‚
*   è·å–æ‰€æœ‰å·²å®‰è£…è½¯ä»¶åŒ…çš„åˆ—è¡¨ã€‚
*   ä»¥ç¼–ç¨‹æ–¹å¼å®‰è£…æ–°çš„è½¯ä»¶åŒ…ã€‚
*   æ³¨å†Œå’Œå–æ¶ˆæ³¨å†Œæ†ç»‘åŒ…ç›‘å¬å™¨ã€‚
*   æ³¨å†Œå’Œå–æ¶ˆæ³¨å†ŒæœåŠ¡ä¾¦å¬å™¨ã€‚

å› æ­¤ç®€å•åœ°æ”¹å˜`Activator`ç±»æˆ‘ä»¬å¯ä»¥åšå‡ ä»¶äº‹ã€‚

# ğŸš€æ†ç»‘ä¾èµ–å…³ç³»

æ­£å¦‚æˆ‘ä»¬å‰é¢æŒ‡å‡ºçš„ï¼Œç®¡ç†ä¾èµ–å…³ç³»æ˜¯å®ç°æ¨¡å—åŒ–çš„å…³é”®ã€‚è¿™åœ¨ Java å’Œè®¸å¤šå…¶ä»–è¯­è¨€ä¸­ä¹Ÿæ˜¯ä¸€ä¸ªå¤§é—®é¢˜ï¼Œå› ä¸ºåªæœ‰å°‘æ•°è¯­è¨€æä¾›æ„å»ºå¤§å‹åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ¨¡å—ç³»ç»Ÿã€‚JAVA ä¸­çš„é»˜è®¤æ¨¡å—ç³»ç»Ÿæ˜¯ä»¥ JAR ä¸ºä¸­å¿ƒçš„â€œç±»è·¯å¾„â€æ¨¡å‹ï¼Œå¤±è´¥ä¸»è¦ä¸æ˜¯å› ä¸ºå®ƒä¸èƒ½ç®¡ç†ä¾èµ–å…³ç³»ï¼Œè€Œæ˜¯æŠŠå®ƒä»¬ç•™ç»™æœºä¼šã€‚

OSGi é€šè¿‡ç®¡ç†ä¾èµ–å…³ç³»å»æ‰äº†å¶ç„¶å› ç´ ï¼Œå› æ­¤å®ƒä»¬æ˜¯*æ˜¾å¼çš„ã€å£°æ˜æ€§çš„ã€*å’Œ*ç‰ˆæœ¬åŒ–çš„ã€‚*

*   **Explicit â€”** åŒ…çš„ä¾èµ–å…³ç³»æ˜¯å…¬å¼€çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥çœ‹åˆ°ï¼Œè€Œä¸æ˜¯éšè—åœ¨ç±»æ–‡ä»¶çš„ä»£ç è·¯å¾„ä¸­ï¼Œç­‰å¾…åœ¨è¿è¡Œæ—¶è¢«å‘ç°ã€‚
*   **å£°æ˜æ€§â€”** ä¾èµ–å…³ç³»ä»¥ç®€å•ã€é™æ€ã€æ–‡æœ¬çš„å½¢å¼æŒ‡å®šï¼Œä»¥ä¾¿äºæ£€æŸ¥ã€‚ä¸€ä¸ªå·¥å…·å¯ä»¥è®¡ç®—å‡ºéœ€è¦å“ªä¸€ç»„åŒ…æ¥æ»¡è¶³ç‰¹å®šåŒ…çš„ä¾èµ–å…³ç³»ï¼Œè€Œä¸éœ€è¦å®é™…å®‰è£…æˆ–è¿è¡Œå®ƒä»¬ä¸­çš„ä»»ä½•ä¸€ä¸ªã€‚
*   **ç‰ˆæœ¬åŒ–â€”** åº“éšç€æ—¶é—´è€Œå˜åŒ–ï¼Œä»…ä»…ä¾èµ–ä¸€ä¸ªåº“è€Œä¸è€ƒè™‘å®ƒçš„ç‰ˆæœ¬æ˜¯ä¸å¤Ÿçš„ã€‚å› æ­¤ï¼ŒOSGi å…è®¸æ‰€æœ‰çš„åŒ…é—´ä¾èµ–å…³ç³»æŒ‡å®šä¸€ä¸ªç‰ˆæœ¬èŒƒå›´ï¼Œç”šè‡³å…è®¸åŒä¸€åŒ…çš„å¤šä¸ªç‰ˆæœ¬åŒæ—¶å­˜åœ¨å’Œä½¿ç”¨ã€‚

# ğŸš€åšå¥½å‡†å¤‡ï¼ŒOSGi æ¥äº†ï¼

![](img/9baa0dd910a180debff938111cf540dc.png)

ç°åœ¨æˆ‘ä»¬å¯¹ OSGi æœ‰äº†ä¸€ä¸ªäº†è§£ï¼Œè®©æˆ‘ä»¬è¯•ç€ç”¨ IntelliJ åˆ›å»ºä¸€ä¸ªä½¿ç”¨ OSGi çš„ *Maven é¡¹ç›®ã€‚*æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨ IntelliJ çš„åŸå› æ˜¯ä¸ºäº†è¡¨æ˜ OSGi æ˜¯ç‹¬ç«‹äº IDE çš„ã€‚

æˆ‘ä»¬å°†ä½¿ç”¨ IntelliJ plus OSGi åˆ›å»ºä¸€ä¸ªåä¸º`book-inventroy`çš„é¡¹ç›®ã€‚

åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œ*è¯»è€…(æ¶ˆè´¹è€…)*è¯·æ±‚é˜…è¯»ä¸€æœ¬ä¹¦ï¼Œ*å›¾ä¹¦æä¾›è€…(ç”Ÿäº§è€…)*æ‰¾åˆ°é‚£æœ¬ä¹¦(ç”Ÿæˆ)å¹¶è®©è¯»è€…é˜…è¯»ã€‚ç°åœ¨ï¼Œä¸ºäº†æ˜ å°„ä¸Šè¿°åœºæ™¯ï¼Œæˆ‘ä»¬éœ€è¦ä¸åŒçš„æ¨¡å—ã€‚å› æ­¤ï¼Œ**é˜…è¯»å™¨æ¨¡å—**å°†å…·æœ‰åƒ*è¯·æ±‚å›¾ä¹¦ã€æŸ¥çœ‹å›¾ä¹¦è¯¦æƒ…ç­‰åŠŸèƒ½ã€‚*å’Œ**æä¾›è€…**æ¨¡å—å°†å…·æœ‰*ç”Ÿæˆä¹¦ç±ã€æ›´æ–°ä¹¦ç±ç­‰åŠŸèƒ½ã€‚*

æ„å»º OSGi é¡¹ç›®æœ€é‡è¦çš„ä»»åŠ¡æ˜¯ç¼–å†™æ¸…å•ã€‚ä¸Šé¢æˆ‘ä»¬è®²è¿‡çš„ MF æ–‡ä»¶ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä»å¤´å¼€å§‹ç¼–å†™å¹¶ä¸å®¹æ˜“ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ **Maven æ†ç»‘æ’ä»¶**æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚ç°åœ¨è®©æˆ‘ä»¬åŠ¨æ‰‹åšä¸€äº›ç¼–ç å·¥ä½œã€‚

è¿›å…¥`New Project` â†’ `Maven`æ–°å»ºä¸€ä¸ª [Maven é¡¹ç›®](/javarevisited/6-best-maven-courses-for-beginners-in-2020-23ea3cba89)ã€‚å¹¶é€‰æ‹©`Next`

[![](img/943b974b7d1c125378b9e95987f16d8e.png)](https://javarevisited.blogspot.com/2015/01/difference-between-maven-ant-jenkins-and-hudson.html#axzz6cKi4RVpi)

å›¾ 15 â€”æ–°çš„ maven é¡¹ç›®

å¯¹äºè¯¥é¡¹ç›®ï¼Œæˆ‘ä»¬å°†ç»™å‡ºä»¥ä¸‹ç»†èŠ‚:

`**groupId:** org.wso2.carbon
**artifactId:** book-inventory
**version:** 1.0-SNAPSHOT
**packaging:** pom
**name:** WSO2 Carbon-Book Inventory`

![](img/a6ed34b8baaf0aa13a5094a0cb7e4d50.png)

å›¾ 16 â€”è´¦é¢åº“å­˜é¡¹ç›®

ç”±äº`book-inventory`æ˜¯æˆ‘ä»¬çš„çˆ¶æ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤è‡ªåŠ¨ç”Ÿæˆçš„`src`æ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬è¿™æ ·åšæ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰å¯¼å‡º*çˆ¶*æ¨¡å—ã€‚è¿™å°±æ˜¯æˆ‘ä»¬å°†åŒ…è£…å‘½åä¸º`pom`çš„åŸå› 

åœ¨åˆ›å»ºäº†*çˆ¶*æ¨¡å—åï¼Œæˆ‘ä»¬åº”è¯¥åˆ›å»ºä¸¤ä¸ªå­æ¨¡å—ï¼Œ`org.wso2.carbon.book.reader`å’Œ`org.wso2.carbon.book.provider`è¦åˆ›å»ºè¿™äº›æ¨¡å—ï¼Œå³é”®å•å‡»*çˆ¶*é¡¹ç›®ï¼Œé€‰æ‹©`Add New` â†’ `Module`æ·»åŠ å®Œè¿™ä¸¤ä¸ªå­æ¨¡å—åï¼Œé¡¹ç›®å°†å¦‚ä¸‹æ‰€ç¤º(å¿½ç•¥`pom.xml`æ–‡ä»¶)ã€‚)

![](img/159c481ec38949676314251d82d13604.png)

å›¾ 17 â€”é¡¹ç›®ç»“æ„

> å½“å‘é¡¹ç›®æ·»åŠ å­æ¨¡å—æ—¶ï¼Œçˆ¶é¡¹ç›®`pom.xml`åº”è¯¥ç”¨`<modules>`æ›´æ–°ï¼Œå­æ¨¡å—`pom.xml`å°†æœ‰`<parent>`æ ‡ç­¾ã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ IDEï¼Œå®ƒä¼šè‡ªåŠ¨ç”Ÿæˆå®ƒä»¬ã€‚

`book-inventory`çš„æœ€ç»ˆ`pom.xml`çœ‹èµ·æ¥ä¼šæ˜¯è¿™æ ·çš„:

**å›¾ä¹¦ä¾›åº”å•†**

`org.wso2.carbon.book.provider`å°†å…·æœ‰ä»¥ä¸‹è§„æ ¼

`**artifactId:** org.wso2.carbon.book.provider
**packaging:** bundle
**plugin:** maven-bundle-plugin, maven-scr-plugin
**dependency:** org.apache.felix.scr.ds-annotations, org.eclipse.osgi.services, org.eclipse.osgi
**name:** WSO2 Carbon-Book Provider`

è¿™é‡Œä½¿ç”¨äº†`<packaging>bundle</packaging>`,å› ä¸ºæˆ‘ä»¬éœ€è¦å°†å®ƒæ†ç»‘è¿›æ¥ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨`maven-bundle-plugin`

åœ¨`maven-bundle-plugin`ä¸­ï¼Œæˆ‘ä»¬ç¡®å®šäº†ä»¥ä¸‹å†…å®¹:

*   æ†ç»‘ç¬¦å·åç§°
*   æ†ç»‘åŒ…åç§°
*   å‡ºå£åŒ…è£…
*   è¿›å£åŒ…è£…
*   ç§äººåŒ…è£…

åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œ

```
<private-package>org.wso2.carbon.book.provider.internal</private-package>
<Export-Package>
    !org.wso2.carbon.book.provider.internal,
    org.wso2.carbon.book.provider.*
</Export-Package>
```

å› ä¸ºæˆ‘ä»¬ä¸å¸Œæœ›`internal`åŒ…è¢«å¯¼å‡ºã€‚

è®©æˆ‘ä»¬å¼€å§‹åˆ›å»ºä¸ğŸ§‘ç›¸å…³çš„æ–‡ä»¶ğŸ»â€ğŸ’»

![](img/9969dab8e4028b5580b1290b1121f7e6.png)

å›¾ 18 â€”é¡¹ç›®ç»“æ„

ç°åœ¨ï¼Œæˆ‘ä»¬å°†åœ¨æ³¨å†Œè¡¨ä¸­æ³¨å†Œå›¾ä¹¦æä¾›å•†åˆ›å»ºçš„æœåŠ¡ï¼Œä»¥ä¾¿åœ¨å…¶ä»–ç»„ä»¶ä¸­ä½¿ç”¨å®ƒã€‚è¿™æ˜¯é€šè¿‡`BookProviderServiceComponent.java`å®Œæˆçš„ï¼Œç±»ä¼¼äºæˆ‘ä»¬ä¸Šé¢è®¨è®ºçš„åœ¨ Eclipse ä¸­åˆ›å»º OSGi é¡¹ç›®çš„`Activator`ã€‚

**å›¾ä¹¦é˜…è¯»å™¨**

`org.wso2.carbon.book.reader`å°†å…·æœ‰ä»¥ä¸‹è§„æ ¼ã€‚

`**artifactId:** org.wso2.carbon.book.reader
**packaging:** bundle
**plugin:** maven-bundle-plugin, maven-src-plugin
**dependency:** org.apache.felix.src.ds-annotations, org.eclipse.osgi.services, org.eclipse.osgi, org.wso2.carbon.book.provider
**name:** WSO2 Carbon-Book Reader`

åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥çœ‹åˆ°ï¼Œæä¾›ç¨‹åºæ˜¯å¯¼å…¥çš„ã€‚

```
<Import-Package>
    org.osgi.framework; version="${osgi.framework.imp.pkg.version.range}",
    org.osgi.service.component; version="${osgi.service.component.imp.pkg.version.range}",
    **org.wso2.carbon.book.provider.***; version="${project.version}"
</Import-Package>
```

åœ¨è¿™ä¸ªå­æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬å°†æœ‰ä»¥ä¸‹æ–‡ä»¶ç»“æ„ã€‚

![](img/ca92292b62768feb07bef4a1fdf2ecba.png)

å›¾ 19 â€”é¡¹ç›®ç»“æ„

ä¸‹é¢ç»™å‡ºäº†æ–‡ä»¶çš„ä»£ç ç‰‡æ®µã€‚

ä¹‹åï¼Œåœ¨ç»ˆç«¯ä¸Šé”®å…¥`maven clean install -DskipTests`æˆ–ç®€å•åœ°é”®å…¥`maven clean install`æ¥æ„å»ºå„è‡ªçš„ jarã€‚

![](img/25598ccb7a19598db3083f53ee79c998.png)

å›¾ 20 â€”åœ¨ç»ˆç«¯ä¸­æˆåŠŸæ„å»º

ç°åœ¨ï¼Œä½ å¯ä»¥åœ¨`org.wso2.carbon.book.reader`å’Œ`org.wso2.carbon.book.provider`ä¸­çœ‹åˆ°ä¸€ä¸ªæ–°ç”Ÿæˆçš„æ–‡ä»¶å¤¹ï¼Œåä¸º`target`ï¼Œåœ¨è¿™äº›æ–‡ä»¶å¤¹ä¸­æœ‰ jar`org.wso2.carbon.book.reader-1.0-SNAPSHOT.jar`å’Œ`org.wso2.carbon.book.provider-1.0-SNAPSHOT.jar`ï¼Œå¦‚æœä½ è§£å‹å®ƒä»¬ï¼Œä½ å¯ä»¥çœ‹åˆ°å®ƒä»¬é‡Œé¢çš„æ–‡ä»¶ã€‚å®ƒä»¬åŒ…å«ä»£ç å’Œ**æ¸…å•ã€‚MF** æ–‡ä»¶å’Œ **OSGI-INF** æ–‡ä»¶ã€‚

# ğŸš€WSO2 èº«ä»½æœåŠ¡å™¨

ç°åœ¨æˆ‘ä»¬å°†è¿è¡Œæˆ‘ä»¬åœ¨ WSO2 å¹³å°ä¸­åˆ›å»ºçš„ OSGi é¡¹ç›®ã€‚å»[https://wso2.com/identity-server/](https://wso2.com/identity-server/)ä¸‹è½½**æœ€æ–°** IS ç‰ˆæœ¬ã€‚è§£å‹ç¼©åï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬å°†ç§°ä¹‹ä¸º`<IS_HOME>`

è½¬åˆ°`<IS_HOME>/repository/components/dropins`å¹¶å°†`org.wso2.carbon.book.reader-1.0-SNAPSHOT.jar`å’Œ`org.wso2.carbon.book.provider-1.0-SNAPSHOT.jar`ç²˜è´´åœ¨é‡Œé¢ã€‚ç„¶åé€šè¿‡æ§åˆ¶å°è¿›å…¥`<IS_HOME>/bin`å¹¶å¯åŠ¨èº«ä»½æœåŠ¡å™¨ã€‚

**åœ¨ Linux/macOS ä¸­â†’**

çª—å£ä¸­çš„**â†’`wso2server.bat -DosgiConsole`**

**![](img/50f7879b0584ac0f7ac5b05cdf0e032a.png)**

**å›¾ 21 â€”å¯åŠ¨ wso2-is**

**æ‚¨å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„åŒ…æ­£åœ¨è¢«æ¿€æ´»å¹¶æ­£å¸¸å·¥ä½œã€‚**

**è¦åœæ­¢`wso2-is`ï¼Œåªéœ€æŒ‰ä¸‹`CTRL+C`ã€‚**

# **ğŸš€OSGi å‘½ä»¤**

**æœ‰å‡ ä¸ªæˆ‘ä»¬åº”è¯¥ç†Ÿæ‚‰çš„ OSGi å‘½ä»¤ã€‚**

*   **`ss` â†’ç”¨æ†ç»‘åŒ… id åˆ—å‡ºæœåŠ¡å™¨ä¸­çš„æ†ç»‘åŒ…ã€‚**
*   **`ss <name>` â†’åœ¨æ†ç»‘åŒ…ä¸­æœç´¢ç»™å®šçš„åç§°å¹¶åˆ—å‡ºæ¥ã€‚**
*   **`ls` â†’åˆ—å‡ºæœåŠ¡ã€‚**
*   **`b <id>` â†’æ˜¾ç¤ºæ†ç»‘ä¿¡æ¯ã€‚**
*   **`diag <id>` â†’æ˜¾ç¤ºæœªæ»¡è¶³çš„æ†ç»‘çº¦æŸã€‚**

# **ğŸš€å‚è€ƒ**

**è¿™äº›æ˜¯æˆ‘ä¸ºäº†åˆ›ä½œè¿™ç¯‡æ–‡ç« è€Œè¯»è¿‡çš„ä¹¦ã€‚**

*   ****å®è·µä¸­çš„ OSGiâ€”**å·´ç‰¹åˆ©ç‰¹**
*   ****OSGi å’Œ Equinoxâ€”â€”åˆ›å»ºé«˜åº¦æ¨¡å—åŒ–çš„ Java ç³»ç»Ÿ** â€”æ°å¤«Â·éº¦å¡å¼—ï¼Œä¿ç½—Â·èŒƒå¾·é›·ï¼Œè¥¿è’™Â·é˜¿åˆ‡å°”**
*   **è¡ŒåŠ¨ä¸­çš„ OSGiâ€”â€”ç†æŸ¥å¾·Â·éœå°”ã€å¡å°”Â·ä¿ç½—ã€æ–¯å›¾å°”ç‰¹Â·éº¦å¡æ´›å…‹ã€å¤§å«Â·è¨ç»´å¥‡**

**è¿™å°±æ˜¯å…³äºå¦‚ä½•åœ¨ IntelliJ æˆ– Eclipse ä¸Šä¸ OSGi ä¸€èµ·å·¥ä½œçš„å…¨éƒ¨å†…å®¹ã€‚ä¸‹é¢ç»™å‡ºäº† IntelliJ é¡¹ç›®çš„é“¾æ¥ã€‚**

**[](https://github.com/nipunaupeksha/osgi-book-inventory) [## GitHub-nipunapeksha/OSGi-book-inventory

### åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªå¸æˆ·ï¼Œä¸º nipunaupeksha/OSGi-book-inventory çš„å¼€å‘åšå‡ºè´¡çŒ®ã€‚

github.com](https://github.com/nipunaupeksha/osgi-book-inventory) 

ç¼–ç å¿«ä¹ï¼ğŸ§‘ğŸ»â€ğŸ’»ğŸ˜‡**